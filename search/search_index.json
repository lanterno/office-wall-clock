{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Wall Clock In Machine","text":"<ul> <li> <p> 2 Seconds Per Day</p> <p>Press button when you arrive. Press when you leave. That's it!</p> <p>Save 2.6 hours per year + eliminate context switching.</p> </li> <li> <p> Under $35</p> <p>Complete bill of materials with shopping links.</p> <p>All components available on Amazon or AliExpress.</p> </li> <li> <p> 10-14 Days Battery</p> <p>Charge once every two weeks via USB-C.</p> <p>Deep sleep mode when idle saves power.</p> </li> <li> <p> WiFi Connected</p> <p>Automatically syncs with your timer API.</p> <p>Works with any HTTP/HTTPS backend.</p> </li> <li> <p> Visual Feedback</p> <p>Status LED shows current state.</p> <p>Energy meter shows hours remaining (like a thermal meter! \ud83c\udf21\ufe0f)</p> </li> <li> <p> 100% Open Source</p> <p>Complete schematics, firmware, and documentation.</p> <p>Modify and customize as you like!</p> </li> </ul>"},{"location":"#automatic-time-tracking-device","title":"\u26a1 Automatic Time Tracking Device","text":"<p>A physical desk device that tracks your office time with a single button press</p>"},{"location":"#the-problem","title":"The Problem","text":"<p>Every day when you go to the office, you have to:</p> <ol> <li>Open your terminal</li> <li>Type a curl command to start your timer</li> <li>Do the same when you leave</li> </ol> <p>This takes 15 seconds, twice a day. It interrupts your workflow and is easy to forget.</p>"},{"location":"#the-solution","title":"The Solution","text":"<p>A physical device on your desk with one button:</p> <ul> <li>Toggle down when you arrive \u2192 Device automatically calls your API</li> <li>Toggle up when you leave \u2192 Logs your time</li> <li>LED feedback shows status and remaining hours</li> <li>Battery powered - lasts weeks between charges</li> </ul>"},{"location":"#tldr-for-the-impatient","title":"TL;DR (for the impatient)","text":"<ul> <li>What it is: A small ESP32-C6 DevKitC-1 desk device with a button and LED strip that calls your time-tracking API when you toggle it.</li> <li>Build path:</li> <li>Skim Getting Started</li> <li>Check the Bill of Materials and order parts</li> <li>Follow the Assembly Guide</li> <li>Flash the Rust firmware from <code>firmware/</code> (see Installation)</li> <li>Edit <code>firmware/src/config.rs</code> (<code>NETWORK_CONFIG</code>) to set your WiFi + API endpoint</li> <li>Re-flash and start using the device</li> <li>Current limitations: Rust firmware uses compile-time WiFi/API settings and a minimal HTTP POST client \u2013 no web config portal, deep sleep, or OTA updates yet.</li> </ul>"},{"location":"#features","title":"Features","text":""},{"location":"#hardware","title":"Hardware","text":"<ul> <li> ESP32-C6 DevKitC-1 microcontroller (WiFi 6, low power, USB-C)</li> <li> 8 RGB LEDs (1 status + 7 energy meter)</li> <li> Toggle switch (satisfying tactile feedback)</li> <li> 2000mAh battery (10-14 days runtime)</li> <li> USB-C charging</li> <li> Compact size (100\u00d760\u00d735mm - fits any desk)</li> </ul>"},{"location":"#firmware","title":"Firmware","text":"<ul> <li> WiFi connectivity using pure Rust (<code>esp-hal</code> + <code>esp-wifi</code>)</li> <li> Async tasks for button, LEDs, and WiFi (Embassy executor)</li> <li> Basic HTTP API integration (single POST endpoint)</li> <li> Web-based configuration portal (planned)</li> <li> Deep sleep mode + aggressive power saving (planned)</li> <li> OTA firmware updates (planned)</li> </ul>"},{"location":"#design","title":"Design","text":"<ul> <li> 3D printable enclosure</li> <li> Documented assembly and wiring</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<ul> <li> <p> 1. Order Components</p> <p>Review the Bill of Materials and order parts (~$35 total).</p> <p>Delivery: 1-4 weeks depending on source.</p> </li> <li> <p> 2. Build Device</p> <p>Follow the Assembly Guide to build your device (2-3 hours).</p> <p>No advanced skills required!</p> </li> <li> <p> 3. Flash Firmware</p> <p>Upload firmware to ESP32-C6 DevKitC-1 using the Installation Guide.</p> <p>Takes about 30 minutes.</p> </li> <li> <p> 4. Configure</p> <p>Set up WiFi and API endpoint using the Configuration Guide.</p> <p>Quick 15-minute setup.</p> </li> <li> <p> 5. Enjoy!</p> <p>Start using your device daily with the Usage Guide.</p> </li> </ul>"},{"location":"#project-stats","title":"Project Stats","text":"Metric Value Total Cost ~$35 USD Build Time 2-3 hours Battery Life 10-14 days Lifespan 5+ years Weight ~120 grams Skill Level Beginner-Intermediate"},{"location":"#tech-stack","title":"Tech Stack","text":"Hardware ESP32-C6 DevKitC-1 microcontroller, WS2812B LEDs, LiPo battery, TP4056 charger Firmware Rust (<code>esp-hal</code>, Embassy, <code>esp-wifi</code>, <code>smart-leds</code>, <code>heapless</code>, <code>serde-json-core</code>) Connectivity WiFi 802.11 b/g/n, HTTPS, OTA updates Power 3.7V 2000mAh LiPo, USB-C charging, deep sleep mode Enclosure 3D printed PLA/PETG or project box"},{"location":"#documentation-structure","title":"Documentation Structure","text":"<p>This documentation is organized into clear sections:</p> <p>Builder path - Getting Started \u2013 Project overview and expectations - Hardware \u2013 Components, specs, and BOM - Assembly \u2013 Step-by-step build and testing - Usage \u2013 Daily operation and maintenance</p> <p>Developer path - Firmware Overview \u2013 Architecture and async tasks - Firmware Installation \u2013 Tooling and flashing - Firmware Configuration \u2013 How to change WiFi + API in <code>config.rs</code> - <code>firmware/README.md</code> \u2013 Source layout and dev workflow</p>"},{"location":"#community","title":"Community","text":"<p>Get Involved</p> <ul> <li>Star the repo \u2b50 on GitHub</li> <li>Share your build - Post photos with #WallClockInMachine</li> <li>Report issues - Help improve the project</li> <li>Contribute - Submit PRs with improvements</li> <li>Spread the word - Tell your friends who hate typing curl commands!</li> </ul>"},{"location":"#license","title":"License","text":"<p>This project is open source and available under the MIT License.</p>"},{"location":"#ready-to-build","title":"Ready to Build?","text":"<p>Get Started Now View on GitHub</p>"},{"location":"assembly/breadboard/","title":"Breadboard Prototype","text":"<p>Assemble a no-solder prototype to validate wiring and firmware.</p>"},{"location":"assembly/breadboard/#connections","title":"Connections","text":"<ul> <li>ESP32 3.3V \u2192 LED +5V (if using 5V level, prefer external 5V)</li> <li>ESP32 GND \u2192 LED GND</li> <li>GPIO2 \u2192 LED DIN via 330\u03a9 resistor</li> <li>GPIO9 \u2192 Button (to GND); enable internal pull-up</li> </ul>"},{"location":"assembly/breadboard/#steps","title":"Steps","text":"<ol> <li>Place ESP32 and LED strip on breadboard</li> <li>Wire power rails; add 1000\u00b5F cap across LED 5V/GND</li> <li>Connect data line with 330\u03a9 series resistor</li> <li>Wire button to GPIO9 and GND</li> <li>Flash test firmware</li> </ol>"},{"location":"assembly/breadboard/#verification","title":"Verification","text":"<ul> <li>Toggle button: state changes in Serial Monitor</li> <li>LEDs animate as expected</li> <li>No flicker/brownouts during animations</li> </ul> <p>Next: Soldering</p>"},{"location":"assembly/enclosure/","title":"Enclosure Assembly","text":"<p>Install electronics into the enclosure safely and neatly.</p>"},{"location":"assembly/enclosure/#hardware","title":"Hardware","text":"<ul> <li>4x M3x6 screws</li> <li>4x M3 standoffs (8\u201312 mm)</li> <li>Velcro strap for battery</li> <li>Acrylic diffuser + adhesive</li> </ul>"},{"location":"assembly/enclosure/#steps","title":"Steps","text":"<ol> <li>Mount ESP32 board on standoffs</li> <li>Install LED strip and place diffuser</li> <li>Route cables; test LEDs and button</li> <li>Install panel button and tighten nut</li> <li>Secure battery with Velcro and strap</li> <li>Close case and fasten screws</li> </ol>"},{"location":"assembly/enclosure/#cable-management","title":"Cable Management","text":"<ul> <li>Keep data line short; avoid sharp bends</li> <li>Use zip ties or adhesive tie mounts</li> <li>Leave service loop for lid removal</li> </ul>"},{"location":"assembly/enclosure/#final-checks","title":"Final Checks","text":"<ul> <li>Button actuates freely without rubbing</li> <li>USB-C port accessible</li> <li>No rattling inside when shaken gently</li> </ul> <p>Next: Final Testing</p>"},{"location":"assembly/final-testing/","title":"Final Testing","text":"<p>Checklist to validate a finished device.</p>"},{"location":"assembly/final-testing/#functional","title":"Functional","text":"<ul> <li>Button toggles states reliably (10 cycles)</li> <li>Status LED reflects state transitions</li> <li>Energy meter increments each hour (simulate fast mode if available)</li> <li>WiFi connects and API calls succeed</li> </ul>"},{"location":"assembly/final-testing/#power","title":"Power","text":"<ul> <li>Battery charges from 20% to 100% without overheating</li> <li>No brownouts during peak LED animation</li> <li>Idle current low in standby</li> </ul>"},{"location":"assembly/final-testing/#mechanical","title":"Mechanical","text":"<ul> <li>Enclosure closes flush with no pinched wires</li> <li>Button feels crisp; LEDs evenly diffused</li> <li>USB-C cable fits without strain</li> </ul>"},{"location":"assembly/final-testing/#firmware","title":"Firmware","text":"<ul> <li>Configuration saved across reboots</li> <li>Time sync works; timestamps correct</li> <li>Logs are clean (no repeated errors)</li> </ul> <p>If any item fails, check the component specifications and wiring connections.</p>"},{"location":"assembly/preparation/","title":"Preparation","text":"<p>Before soldering or assembly, prepare tools, parts, and workspace.</p>"},{"location":"assembly/preparation/#tools","title":"Tools","text":"<ul> <li>Soldering iron + stand + wet sponge</li> <li>Lead-free solder (0.5\u20130.8 mm)</li> <li>Wire cutters / strippers</li> <li>Tweezers</li> <li>Multimeter</li> <li>Heat-shrink tubing + heat gun</li> <li>Screwdrivers (PH0/PH1)</li> </ul>"},{"location":"assembly/preparation/#parts-checklist","title":"Parts Checklist","text":"<ul> <li>ESP32-C3 DevKit</li> <li>WS2812B LED strip (8 px)</li> <li>Panel-mount button (latching)</li> <li>LiPo 3.7V 2000 mAh</li> <li>TP4056 USB-C charger</li> <li>3.3V regulator (if board needs)</li> <li>Wires, headers, JST-PH connectors</li> <li>Enclosure (printed or purchased)</li> </ul>"},{"location":"assembly/preparation/#workspace","title":"Workspace","text":"<ul> <li>Ventilated area (or fume extractor)</li> <li>Non-conductive mat</li> <li>Good lighting</li> <li>Safety glasses</li> </ul>"},{"location":"assembly/preparation/#pre-flight-tests","title":"Pre-flight Tests","text":"<ol> <li>Power ESP32 via USB; upload blink sketch</li> <li>Test single LED pixel on strip</li> <li>Check button continuity with multimeter</li> </ol>"},{"location":"assembly/preparation/#tips","title":"Tips","text":"<ul> <li>Cut wires to final length after routing test</li> <li>Tin both pads and wires for quick, clean joints</li> <li>Use strain relief and heat-shrink on moving cables</li> </ul> <p>Next: Component Testing</p>"},{"location":"assembly/soldering/","title":"Soldering Guide","text":"<p>Learn how to solder all components for the Wall Clock In Machine. This guide is beginner-friendly with detailed photos and tips.</p> <p>Safety First</p> <ul> <li>Work in a well-ventilated area (solder fumes)</li> <li>Use safety glasses</li> <li>Don't touch the iron tip (350\u00b0C!)</li> <li>Wash hands after soldering</li> <li>Keep iron stand stable</li> </ul>"},{"location":"assembly/soldering/#before-you-start","title":"Before You Start","text":""},{"location":"assembly/soldering/#tools-youll-need","title":"Tools You'll Need","text":"Tool Purpose Price (CHF) Where to Get Soldering Iron Join connections 20-80 Digitec, Conrad Solder 60/40 tin/lead, 0.8mm 5-10 Conrad, Brack Wire Strippers Strip insulation 10-15 Jumbo, Brico+Loisirs Flush Cutters Cut wires/leads 8-12 Conrad Multimeter Test connections 15-30 Digitec Helping Hands Hold components 10-15 Digitec Solder Wick Remove mistakes 3-5 Conrad Flux Pen Improve flow 5-8 Conrad <p>Budget: CHF 80-100 (reusable for all future projects!)</p> <p>Lausanne Tip: Visit FabLab EPFL - they have all tools available for free (with EPFL access) or small membership fee.</p>"},{"location":"assembly/soldering/#materials-needed","title":"Materials Needed","text":"<p>From your Bill of Materials:</p> <ul> <li> ESP32-C3 DevKit</li> <li> WS2812B LED Strip (8 LEDs)</li> <li> SPDT Toggle Switch</li> <li> 2000mAh LiPo Battery</li> <li> TP4056 Charger Module</li> <li> AMS1117 Regulator Module</li> <li> 330\u03a9 Resistor (optional)</li> <li> 1000\u00b5F Capacitor (optional)</li> <li> Hookup wire (22-26 AWG)</li> <li> JST connectors (optional)</li> <li> Heat shrink tubing</li> </ul>"},{"location":"assembly/soldering/#soldering-iron-setup","title":"Soldering Iron Setup","text":"<p>Temperature Settings:</p> Material Temperature Notes 60/40 Solder 350\u00b0C (662\u00b0F) Standard Lead-free Solder 380\u00b0C (716\u00b0F) EU compliant Heat Shrink 100\u00b0C (212\u00b0F) Use heat gun <p>Recommended: Start at 350\u00b0C and adjust if needed.</p> <p>Tip Selection: - Chisel tip (recommended) - Versatile, good heat transfer - Conical tip - Precise, small joints - Bevel tip - Large pads</p>"},{"location":"assembly/soldering/#soldering-basics","title":"Soldering Basics","text":""},{"location":"assembly/soldering/#the-perfect-solder-joint","title":"The Perfect Solder Joint","text":"<p>A good solder joint looks like this:</p> <pre><code>Side View:\n        Shiny, smooth cone\n             \u2571\u2572\nComponent \u2500\u2500\u25cf  \u25cf\u2500\u2500 PCB pad\n           \u2571    \u2572\n</code></pre> <p>Good Joint: - \u2705 Shiny, smooth surface - \u2705 Cone/volcano shape - \u2705 Flows onto both pad and lead - \u2705 Concave fillet around lead</p> <p>Bad Joints: - \u274c Cold joint: Dull, grainy (reheat) - \u274c Too much solder: Blob, bridges - \u274c Too little solder: Doesn't fill joint - \u274c Burnt flux: Black, overheated</p>"},{"location":"assembly/soldering/#the-5-second-technique","title":"The 5-Second Technique","text":"<p>Perfect solder joints in 5 steps:</p> <pre><code>1. CLEAN (1 sec)\n   Wipe tip on damp sponge\n\n2. HEAT (2 sec)\n   Touch iron to pad AND lead\n\n3. FEED (1 sec)\n   Touch solder to joint (not iron!)\n   Solder flows into joint\n\n4. REMOVE (1 sec)\n   Remove solder, then iron\n\n5. COOL (3 sec)\n   Don't move! Let solidify\n</code></pre> <p>Total time: 5 seconds of heat</p> <p>Why this works: - Short heat time prevents damage - Solder flows to hot surfaces - Clean tip improves heat transfer - Proper order creates strong joint</p>"},{"location":"assembly/soldering/#common-mistakes","title":"Common Mistakes","text":"Problem Cause Solution Solder won't stick Dirty/oxidized Clean with flux Solder balls up Too hot or dirty Lower temp, clean tip Components move Moved while cooling Use helping hands Burnt smell Too hot Lower temperature Solder bridges Too much solder Use solder wick"},{"location":"assembly/soldering/#step-by-step-assembly","title":"Step-by-Step Assembly","text":""},{"location":"assembly/soldering/#step-1-prepare-components","title":"Step 1: Prepare Components","text":"<p>Cut wires to length:</p> Connection Length Color Battery \u2192 TP4056 5cm Red/Black TP4056 \u2192 AMS1117 8cm Red/Black AMS1117 \u2192 ESP32 10cm Red/Black ESP32 \u2192 LEDs 15cm Red/Black/White ESP32 \u2192 Switch 12cm Black/White <p>Strip wires: - Strip 3-5mm from each end - Twist strands together - Tin with small amount of solder</p> <p>Organize workspace: <pre><code>Layout (looking down at desk):\n\n[Helping Hands]  [Component Box]\n\n[Soldering Iron] [Work Area]     [Multimeter]\n     \u2193\n  [Stand]        [Sponge]        [Solder/Flux]\n</code></pre></p>"},{"location":"assembly/soldering/#step-2-solder-power-system","title":"Step 2: Solder Power System","text":"<p>Objective: Connect Battery \u2192 Charger \u2192 Regulator \u2192 ESP32</p>"},{"location":"assembly/soldering/#21-battery-to-tp4056-charger","title":"2.1 Battery to TP4056 Charger","text":"<p>Battery Safety</p> <ul> <li>Never short battery wires!</li> <li>Work with one wire at a time</li> <li>Cover exposed wire with heat shrink immediately</li> <li>If using battery with connector, DON'T solder - use connector!</li> </ul> <p>If battery has JST connector (recommended): - \u2705 Skip soldering, plug directly into TP4056 - TP4056 modules usually have JST socket</p> <p>If battery has bare wires:</p> <ol> <li> <p>Red wire (Battery +):    <pre><code>a. Slide heat shrink onto wire\nb. Tin wire end (small amount of solder)\nc. Tin TP4056 BAT+ pad\nd. Heat both, solder flows together\ne. Remove heat, let cool 5 seconds\nf. Slide heat shrink over joint, apply heat gun\n</code></pre></p> </li> <li> <p>Black wire (Battery -):    <pre><code>Same process for BAT- pad\n\u26a0\ufe0f Don't let red and black wires touch!\n</code></pre></p> </li> <li> <p>Test:    <pre><code>Multimeter \u2192 DC Voltage mode\nRed probe \u2192 BAT+ pad\nBlack probe \u2192 BAT- pad\nReading: 3.7-4.2V \u2713\n</code></pre></p> </li> </ol> <p>Diagram: <pre><code>Battery (JST connector)\n  \u2193\n  Red (+) \u2500\u2500\u2192 TP4056 [BAT+]\n  Black (-) \u2500\u2500\u2192 TP4056 [BAT-]\n</code></pre></p>"},{"location":"assembly/soldering/#22-tp4056-to-ams1117-regulator","title":"2.2 TP4056 to AMS1117 Regulator","text":"<p>Connection: - TP4056 OUT+ \u2192 AMS1117 VIN - TP4056 OUT- \u2192 AMS1117 GND</p> <p>Steps:</p> <ol> <li>Cut two 8cm wires (red, black)</li> <li>Strip and tin all ends</li> <li>Solder red to TP4056 OUT+ pad</li> <li>Solder red to AMS1117 VIN pad</li> <li>Solder black to TP4056 OUT-/GND</li> <li>Solder black to AMS1117 GND</li> <li>Add heat shrink to all joints</li> </ol> <p>Diagram: <pre><code>TP4056         AMS1117\n[OUT+] \u2500\u2500Red\u2500\u2500\u2192 [VIN]\n[OUT-] \u2500\u2500Blk\u2500\u2500\u2192 [GND]\n</code></pre></p>"},{"location":"assembly/soldering/#23-ams1117-to-esp32-c3","title":"2.3 AMS1117 to ESP32-C3","text":"<p>Connection: - AMS1117 VOUT \u2192 ESP32 3V3 pin - AMS1117 GND \u2192 ESP32 GND pin</p> <p>Steps:</p> <ol> <li>Cut two 10cm wires (red, black)</li> <li>Strip and tin</li> <li>Solder to AMS1117 VOUT and GND</li> <li>Don't solder to ESP32 yet - we'll do this later</li> </ol> <p>Diagram: <pre><code>AMS1117        ESP32-C3\n[VOUT] \u2500\u2500Red\u2500\u2500\u2192 [3V3]  \u2190 Later\n[GND]  \u2500\u2500Blk\u2500\u2500\u2192 [GND]  \u2190 Later\n</code></pre></p> <p>Test Power Chain: <pre><code>1. Plug USB-C into TP4056\n2. Multimeter: Check AMS1117 VOUT\n   Should read: 3.3V \u00b1 0.1V\n3. If correct: \u2713 Power system works!\n4. If not: Check all connections with multimeter continuity\n</code></pre></p>"},{"location":"assembly/soldering/#step-3-solder-toggle-switch","title":"Step 3: Solder Toggle Switch","text":"<p>Objective: Connect switch to ESP32 GPIO2</p>"},{"location":"assembly/soldering/#31-identify-switch-terminals","title":"3.1 Identify Switch Terminals","text":"<p>SPDT switch has 3 terminals:</p> <pre><code>     [COM] \u2190 Common (middle terminal)\n       \u2193\n   \u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\n  \u2502    \u25cf    \u2502\n  \u2502  \u2571   \u2572  \u2502\n  \u2502 \u25cf     \u25cf \u2502\n   \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n    \u2191     \u2191\n   [NC]  [NO]\n    \u2191     \u2191\n  Not   Normally\n  Used   Open\n</code></pre> <p>Our wiring: - COM \u2192 ESP32 GPIO2 - NO \u2192 GND - NC \u2192 Not connected</p>"},{"location":"assembly/soldering/#32-solder-wires","title":"3.2 Solder Wires","text":"<ol> <li> <p>COM terminal:    <pre><code>- Cut 12cm white/yellow wire\n- Strip and tin\n- Solder to COM terminal\n- Add heat shrink\n</code></pre></p> </li> <li> <p>NO terminal:    <pre><code>- Cut 12cm black wire  \n- Strip and tin\n- Solder to NO terminal\n- Add heat shrink\n</code></pre></p> </li> <li> <p>Test:    <pre><code>Multimeter \u2192 Continuity mode\n- Switch UP: COM-NO should beep \u2713\n- Switch DOWN: COM-NO no beep \u2713\n</code></pre></p> </li> </ol> <p>Diagram: <pre><code>Switch         ESP32-C3\n[COM] \u2500\u2500Wht\u2500\u2500\u2192 [GPIO2]  \u2190 Later\n[NO]  \u2500\u2500Blk\u2500\u2500\u2192 [GND]    \u2190 Later\n[NC]  (empty)\n</code></pre></p>"},{"location":"assembly/soldering/#step-4-prepare-led-strip","title":"Step 4: Prepare LED Strip","text":"<p>Objective: Prepare 8 LEDs for connection</p>"},{"location":"assembly/soldering/#41-cut-led-strip","title":"4.1 Cut LED Strip","text":"<p>If you bought a 1-meter strip (60 LEDs):</p> <ol> <li> <p>Locate cut marks:    <pre><code>LED strip has copper pads every 3 LEDs:\n\n[LED][LED][LED] \u2702\ufe0f [LED][LED][LED] \u2702\ufe0f\n     \u2191\n  Cut here (copper pad)\n</code></pre></p> </li> <li> <p>Cut after 8<sup>th</sup> LED:</p> </li> <li>Use flush cutters</li> <li>Cut through middle of copper pad</li> <li> <p>Leave copper on both sides</p> </li> <li> <p>Identify connections:    <pre><code>First LED (input end):\n[+5V] [DIN] [GND]\n  \u2191     \u2191     \u2191\n Red  White  Black\n\nLast LED (output end):\n[+5V] [DOUT] [GND]  \u2190 Not used\n</code></pre></p> </li> </ol>"},{"location":"assembly/soldering/#42-solder-led-wires","title":"4.2 Solder LED Wires","text":"<p>Input end (where data enters):</p> <ol> <li> <p>Power wire (+5V):    <pre><code>- Cut 15cm RED wire\n- Strip 3mm, tin\n- Solder to +5V pad\n- Add heat shrink\n</code></pre></p> </li> <li> <p>Data wire (DIN):    <pre><code>- Cut 15cm WHITE/YELLOW wire\n- Strip 3mm, tin\n- Solder to DIN pad\n- Add heat shrink\n</code></pre></p> </li> <li> <p>Ground wire (GND):    <pre><code>- Cut 15cm BLACK wire\n- Strip 3mm, tin\n- Solder to GND pad\n- Add heat shrink\n</code></pre></p> </li> </ol> <p>Optional: Add capacitor (smooths power):</p> <p>If you have a 1000\u00b5F capacitor: <pre><code>- Solder capacitor between LED +5V and GND\n- Orientation matters! Negative stripe \u2192 GND\n- Helps prevent LED flickering\n</code></pre></p> <p>Optional: Add resistor (protects data line):</p> <p>If you have a 330\u03a9 resistor: <pre><code>- Solder resistor in series with DIN wire\n- Prevents data line damage\n- Not critical for 8 LEDs\n</code></pre></p> <p>Diagram: <pre><code>LED Strip (input)    ESP32-C3\n[+5V] \u2500\u2500Red\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 [5V or 3.3V]  \u2190 Later\n[DIN] \u2500\u2500Wht\u2500[330\u03a9]\u2500\u2500\u2192 [GPIO3]       \u2190 Later\n[GND] \u2500\u2500Blk\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 [GND]         \u2190 Later\n              \u2191\n         Optional resistor\n\n     [1000\u00b5F]  \u2190 Optional capacitor\n        \u2193\n      [GND]\n</code></pre></p>"},{"location":"assembly/soldering/#step-5-assemble-on-esp32-c3","title":"Step 5: Assemble on ESP32-C3","text":"<p>Objective: Connect everything to ESP32</p>"},{"location":"assembly/soldering/#51-esp32-c3-pinout-reference","title":"5.1 ESP32-C3 Pinout Reference","text":"<pre><code>ESP32-C3-DevKitM-1 (Top View)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u25cb USB-C Port          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 3V3  \u25cf\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25cf GND   \u2502 \u2190 Power\n\u2502 EN   \u25cf         \u25cf GPIO18\u2502\n\u2502 G04  \u25cf         \u25cf GPIO19\u2502\n\u2502 G05  \u25cf         \u25cf GPIO10\u2502\n\u2502 G06  \u25cf         \u25cf GPIO09\u2502 \u2190 USB D-\n\u2502 G07  \u25cf         \u25cf GPIO08\u2502 \u2190 USB D+\n\u2502 G21  \u25cf         \u25cf GPIO07\u2502\n\u2502 G20  \u25cf         \u25cf GPIO06\u2502\n\u2502 G10  \u25cf         \u25cf GPIO05\u2502\n\u2502 G03  \u25cf         \u25cf GPIO04\u2502 \u2190 LED Data\n\u2502 G02  \u25cf         \u25cf GPIO03\u2502 \u2190 Button\n\u2502 G01  \u25cf         \u25cf GPIO02\u2502\n\u2502 G00  \u25cf         \u25cf GPIO01\u2502\n\u2502 GND  \u25cf\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25cf 5V    \u2502 \u2190 Power (USB only)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"assembly/soldering/#52-solder-power-wires","title":"5.2 Solder Power Wires","text":"<ol> <li> <p>3.3V Power (from AMS1117):    <pre><code>- Take red wire from AMS1117\n- Solder to ESP32 3V3 pin\n- This powers the ESP32\n</code></pre></p> </li> <li> <p>Ground (from AMS1117):    <pre><code>- Take black wire from AMS1117\n- Solder to ESP32 GND pin (left side)\n- Common ground for everything\n</code></pre></p> </li> </ol> <p>Alternative: USB Power</p> <p>If testing without battery: - Power ESP32 via USB-C port - No need to connect 3V3 from regulator yet</p>"},{"location":"assembly/soldering/#53-solder-switch-wires","title":"5.3 Solder Switch Wires","text":"<ol> <li> <p>Switch COM \u2192 GPIO2:    <pre><code>- Take white wire from switch COM\n- Solder to ESP32 GPIO2 pin\n- This is the input pin\n</code></pre></p> </li> <li> <p>Switch NO \u2192 GND:    <pre><code>- Take black wire from switch NO\n- Solder to ESP32 GND pin (right side)\n- Can share GND with power GND\n</code></pre></p> </li> </ol> <p>Enable internal pull-up (in firmware): <pre><code>pinMode(GPIO_NUM_2, INPUT_PULLUP);\n// Now GPIO2 reads HIGH when switch open\n//           reads LOW when switch closed\n</code></pre></p>"},{"location":"assembly/soldering/#54-solder-led-wires","title":"5.4 Solder LED Wires","text":"<ol> <li> <p>LED Data \u2192 GPIO3:    <pre><code>- Take white wire from LED DIN\n- Solder to ESP32 GPIO3 pin\n- Critical: Data signal must be clean\n</code></pre></p> </li> <li> <p>LED Power \u2192 5V:    <pre><code>- Take red wire from LED +5V\n- Option A: Solder to ESP32 5V pin (only works when USB connected!)\n- Option B: Connect to battery voltage (3.7V, LEDs dimmer)\n- Recommended: Use 5V pin, ensure USB connected\n</code></pre></p> </li> <li> <p>LED Ground \u2192 GND:    <pre><code>- Take black wire from LED GND\n- Solder to ESP32 GND pin\n- Share with other grounds\n</code></pre></p> </li> </ol> <p>LED Power Consideration</p> <ul> <li>5V option: LEDs full brightness, but only works with USB</li> <li>3.7V option: LEDs dimmer, works on battery</li> <li>Best: Use 5V and keep device plugged in, or use boost converter for 5V from battery</li> </ul>"},{"location":"assembly/soldering/#step-6-final-assembly","title":"Step 6: Final Assembly","text":""},{"location":"assembly/soldering/#61-check-all-connections","title":"6.1 Check All Connections","text":"<p>Use multimeter continuity mode:</p> Test Expected Result Battery + to AMS1117 VIN Beep \u2713 AMS1117 VOUT to ESP32 3V3 Beep \u2713 All GNDs together Beep \u2713 Switch COM to GPIO2 Beep \u2713 LED DIN to GPIO3 Beep \u2713 Battery + to GND NO beep \u2713 (no short!)"},{"location":"assembly/soldering/#62-visual-inspection","title":"6.2 Visual Inspection","text":"<p>Check each solder joint:</p> <ul> <li> Shiny, smooth surface</li> <li> No solder bridges between adjacent pins</li> <li> Wires secure (gentle tug test)</li> <li> Heat shrink covering all exposed metal</li> <li> No loose strands of wire</li> </ul>"},{"location":"assembly/soldering/#63-first-power-on-test","title":"6.3 First Power-On Test","text":"<p>Before uploading firmware:</p> <ol> <li>Connect USB-C to TP4056:</li> <li>Charger red LED should light (charging)</li> <li> <p>After 2-3 hours, blue/green LED (charged)</p> </li> <li> <p>Disconnect USB, wait 10 seconds</p> </li> <li> <p>Check voltages:    <pre><code>Multimeter DC voltage mode:\n\nBattery:  3.7-4.2V \u2713\nAMS1117:  3.3V \u00b10.1V \u2713\nESP32:    Should not be powered yet (no firmware)\n</code></pre></p> </li> </ol> <p>If voltages wrong: - Check connections with continuity mode - Look for cold solder joints (dull appearance) - Reflow suspicious joints</p>"},{"location":"assembly/soldering/#desoldering-fixing-mistakes","title":"Desoldering (Fixing Mistakes)","text":""},{"location":"assembly/soldering/#method-1-solder-wick","title":"Method 1: Solder Wick","text":"<ol> <li>Place copper braid over joint</li> <li>Press hot iron on top</li> <li>Solder wicks into braid</li> <li>Remove braid and iron together</li> </ol>"},{"location":"assembly/soldering/#method-2-solder-sucker","title":"Method 2: Solder Sucker","text":"<ol> <li>Melt solder joint</li> <li>Place sucker nozzle next to joint</li> <li>Press button - vacuum sucks solder</li> <li>Repeat if needed</li> </ol>"},{"location":"assembly/soldering/#method-3-add-more-solder","title":"Method 3: Add More Solder","text":"<p>Counterintuitive but works:</p> <ol> <li>Add fresh solder to joint</li> <li>Helps heat flow</li> <li>Remove with wick/sucker</li> <li>Cleaner than trying to desolder dry joint</li> </ol>"},{"location":"assembly/soldering/#soldering-tips-tricks","title":"Soldering Tips &amp; Tricks","text":""},{"location":"assembly/soldering/#for-beginners","title":"For Beginners","text":"<p>Practice first: - Buy practice PCB kit (CHF 5) - Or practice on old electronics - Master technique before your project</p> <p>Go slow: - Rush = mistakes - Each joint takes 5 seconds - Take breaks every 15 minutes</p> <p>Good lighting: - Use desk lamp - Magnifying glass helps - See what you're doing!</p>"},{"location":"assembly/soldering/#temperature-troubleshooting","title":"Temperature Troubleshooting","text":"Problem Too Cold Just Right Too Hot Solder flow Slow, lumpy Smooth, fast Too fast Joint appearance Dull, grainy Shiny, smooth Burnt, black Flux Doesn't activate Active, clean Burnt, smoking Components Lifted pads No damage Burnt, delaminated <p>Solution: - Too cold: Increase 10\u00b0C - Too hot: Decrease 20\u00b0C - Find sweet spot: Smooth flow, no burning</p>"},{"location":"assembly/soldering/#wire-management","title":"Wire Management","text":"<p>Color coding: - \ud83d\udd34 Red: Positive voltage - \u26ab Black: Ground - \ud83d\udfe1 Yellow/White: Signals - \ud83d\udd35 Blue: Optional/special</p> <p>Cable ties: - Group related wires - Prevents tangles - Looks professional</p> <p>Strain relief: - Add hot glue at solder joints - Prevents wire breakage - Especially for moving parts</p>"},{"location":"assembly/soldering/#testing-validation","title":"Testing &amp; Validation","text":""},{"location":"assembly/soldering/#continuity-tests","title":"Continuity Tests","text":"<p>What to test: <pre><code>\u2713 Power path: Battery \u2192 Regulator \u2192 ESP32\n\u2713 Ground continuity: All GND pins connected\n\u2713 Button circuit: Switch COM \u2192 GPIO2\n\u2713 LED circuit: ESP32 GPIO3 \u2192 LED DIN\n\u2717 NO shorts: Power to GND should NOT beep\n</code></pre></p>"},{"location":"assembly/soldering/#voltage-tests","title":"Voltage Tests","text":"<p>Expected readings: <pre><code>Battery:        3.7-4.2V\nRegulator IN:   3.7-4.2V (same as battery)\nRegulator OUT:  3.3V \u00b10.1V\nESP32 3V3 pin:  3.3V \u00b10.1V\nLED +5V:        5.0V (USB) or 3.7V (battery)\n</code></pre></p>"},{"location":"assembly/soldering/#resistance-tests","title":"Resistance Tests","text":"<p>Power off, check: <pre><code>Battery + to GND:    &gt;1M\u03a9 (no short)\nESP32 3V3 to GND:    &gt;10k\u03a9 (normal)\nGPIO2 to GND:        &gt;10k\u03a9 (pull-up enabled in firmware)\n</code></pre></p>"},{"location":"assembly/soldering/#common-issues","title":"Common Issues","text":""},{"location":"assembly/soldering/#solder-wont-stick","title":"Solder Won't Stick","text":"<p>Causes: - Oxidized components - Dirty soldering iron tip - Temperature too low - No flux</p> <p>Solutions: 1. Clean tip on damp sponge 2. Apply flux pen to joint 3. Increase temperature 10\u00b0C 4. Use fresh solder (has flux core)</p>"},{"location":"assembly/soldering/#cold-solder-joint","title":"Cold Solder Joint","text":"<p>Appearance: - Dull, grainy surface - Lumpy, irregular shape - Doesn't flow smoothly</p> <p>Fix: 1. Reheat joint with clean tip 2. Add tiny bit fresh solder 3. Let flow completely 4. Remove heat, don't move</p>"},{"location":"assembly/soldering/#solder-bridge","title":"Solder Bridge","text":"<p>Problem: Solder connects adjacent pins</p> <p>Fix: 1. Add flux to bridge 2. Heat with clean tip 3. Drag tip along pins 4. Surface tension separates solder 5. Or use solder wick</p>"},{"location":"assembly/soldering/#burnt-component","title":"Burnt Component","text":"<p>Signs: - Discoloration - Smoke during soldering - Component doesn't work</p> <p>Prevention: - Solder quickly (&lt;5 sec) - Lower temperature if smoking - Use heat sink (alligator clip on wire)</p> <p>If burnt: - Desolder and replace - Most modules are cheap (&lt;CHF 5)</p>"},{"location":"assembly/soldering/#next-steps","title":"Next Steps","text":"<p>Soldering complete! \u2713</p> <p>Continue to:</p> <ul> <li>Wiring Diagram - Visual reference</li> <li>Enclosure Assembly - Build the box</li> <li>Firmware Installation - Upload code</li> </ul> <p>Or if issues:</p> <ul> <li>Check Hardware Specifications for component details</li> <li>Review the Assembly Guide if you missed steps</li> </ul> <p>Questions? Ask in GitHub Discussions or visit FabLab EPFL for in-person help!</p>"},{"location":"assembly/testing/","title":"Component Testing","text":"<p>Verify each part works before final assembly.</p>"},{"location":"assembly/testing/#esp32-c3","title":"ESP32-C3","text":"<ul> <li>Upload blink sketch</li> <li>Open Serial Monitor @ 115200</li> <li>Verify reset and boot messages</li> </ul>"},{"location":"assembly/testing/#led-strip","title":"LED Strip","text":"<ul> <li>Connect 5V/GND and DIN via 330\u03a9</li> <li>Run simple Rust LED test (smart-leds example)</li> <li>Check all 8 pixels light in order</li> </ul>"},{"location":"assembly/testing/#button","title":"Button","text":"<ul> <li>Wire to GPIO with pull-up</li> <li>Read pin state while toggling</li> <li>Debounce: verify stable transitions</li> </ul>"},{"location":"assembly/testing/#charger-battery","title":"Charger &amp; Battery","text":"<ul> <li>Check TP4056 LEDs: red (charging) \u2192 green (full)</li> <li>Measure battery voltage: 3.7\u20134.2V</li> </ul>"},{"location":"assembly/testing/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>No serial? Try different cable/port</li> <li>Random LED colors? Ground/data integrity; add large cap</li> <li>Button bounces? Increase debounce ms in firmware</li> </ul> <p>Next: Breadboard Prototype</p>"},{"location":"deployment/quick-start/","title":"Deployment Quick Start","text":"<p>Fast reference guide for getting your documentation online.</p>"},{"location":"deployment/quick-start/#github-pages-setup","title":"GitHub Pages Setup","text":""},{"location":"deployment/quick-start/#5-minute-deployment","title":"5-Minute Deployment","text":"<pre><code># 1. Enable GitHub Pages\n# Go to: https://github.com/lanterno/office-wall-clock/settings/pages\n# Source: Deploy from a branch \u2192 gh-pages \u2192 / (root) \u2192 Save\n\n# 2. Push to GitHub\ngit add .\ngit commit -m \"Add documentation and auto-deployment\"\ngit push origin main\n\n# 3. Monitor deployment\n# https://github.com/lanterno/office-wall-clock/actions\n\n# 4. Visit your site (2-3 minutes)\n# https://lanterno.github.io/office-wall-clock/\n</code></pre>"},{"location":"deployment/quick-start/#what-was-already-configured","title":"What Was Already Configured","text":"<p>\u2705 GitHub Action - <code>.github/workflows/deploy-docs.yml</code> \u2705 MkDocs Config - <code>mkdocs.yml</code> \u2705 Dependencies - <code>requirements-docs.txt</code> \u2705 Content - All documentation in <code>docs-site/</code></p>"},{"location":"deployment/quick-start/#auto-deploy-triggers","title":"Auto-Deploy Triggers","text":"<p>Deployment happens automatically when: - \u2705 You push to <code>main</code> branch - \u2705 Any file in <code>docs-site/</code> changes - \u2705 <code>mkdocs.yml</code> is modified - \u2705 <code>requirements-docs.txt</code> is updated</p>"},{"location":"deployment/quick-start/#local-testing","title":"Local Testing","text":"<p>Before deploying, test locally:</p> <pre><code># Install dependencies\npip install -r requirements-docs.txt\n\n# Start development server\nmkdocs serve\n\n# Visit http://localhost:8000\n# Changes auto-reload!\n</code></pre>"},{"location":"deployment/quick-start/#monitoring","title":"Monitoring","text":""},{"location":"deployment/quick-start/#check-build-status","title":"Check Build Status","text":"<p>In GitHub: - Go to \"Actions\" tab - Click latest workflow run - Green \u2713 = success - Red \u2717 = check logs</p> <p>Add Badge to README: <pre><code>![Documentation](https://github.com/lanterno/office-wall-clock/actions/workflows/deploy-docs.yml/badge.svg)\n</code></pre></p>"},{"location":"deployment/quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/quick-start/#workflow-permission-error","title":"Workflow Permission Error","text":"<p>Settings \u2192 Actions \u2192 General - Workflow permissions: \u2705 Read and write permissions - Save and re-run workflow</p>"},{"location":"deployment/quick-start/#site-shows-404","title":"Site Shows 404","text":"<p>Wait 2-3 minutes after first deploy Check Settings \u2192 Pages \u2192 Branch = <code>gh-pages</code> Clear Browser cache (Ctrl+Shift+R)</p>"},{"location":"deployment/quick-start/#build-fails","title":"Build Fails","text":"<p>Test locally first: <pre><code>mkdocs build --strict\n</code></pre></p> <p>Check logs: <pre><code>gh run view --log-failed\n</code></pre></p>"},{"location":"deployment/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Site URL (default): <code>https://lanterno.github.io/office-wall-clock/</code></li> </ul>"},{"location":"firmware/api-integration/","title":"API Integration","text":"<p>The Wall Clock In Machine is designed to work with your existing timer API. This guide explains how to configure the device to communicate with your backend service.</p>"},{"location":"firmware/api-integration/#api-requirements","title":"API Requirements","text":"<p>Your timer API must provide HTTP/HTTPS endpoints for:</p> <ol> <li>Starting a timer (clock in)</li> <li>Stopping a timer (clock out)</li> <li>Getting current status (optional, for recovery)</li> </ol> <p>External Dependency</p> <p>The Wall Clock In Machine does not include a backend API. You must have your own timer tracking service running. The device acts as a physical interface to your existing API.</p>"},{"location":"firmware/api-integration/#default-api-format-current-rust-firmware","title":"Default API Format (current Rust firmware)","text":"<p>The minimal Rust firmware is configured for a single toggle endpoint:</p> <pre><code>POST /api/timer/toggle\nHost: 192.168.1.100:8000\nContent-Length: 0\nConnection: close\n</code></pre> <ul> <li>No JSON body is sent by default.</li> <li>Any <code>2xx</code> response is treated as a success.</li> <li>The endpoint is controlled by <code>NETWORK_CONFIG.api_host</code>, <code>api_port</code>, and   <code>api_path</code> in <code>firmware/src/config.rs</code>.</li> </ul> <p>You can still build a more traditional API with separate start/stop endpoints \u2013 see \u201cAdapting to Your API\u201d below.</p>"},{"location":"firmware/api-integration/#configuration-rust-firmware","title":"Configuration (Rust firmware)","text":"<p>All network and API configuration currently lives in code:</p> <ul> <li>File: <code>firmware/src/config.rs</code></li> <li>Constant: <code>NETWORK_CONFIG</code></li> </ul> <p>See the Configuration page for the exact Rust snippet and step-by-step instructions.</p> <p>HTTPS Recommended</p> <p>For security, use HTTPS for your API endpoint. The device supports both HTTP and HTTPS, but HTTP sends your token in plain text over WiFi.</p>"},{"location":"firmware/api-integration/#adapting-to-your-api","title":"Adapting to Your API","text":"<p>If your API uses different endpoint paths or request formats, you can modify the firmware.</p>"},{"location":"firmware/api-integration/#changing-endpoint-path","title":"Changing Endpoint Path","text":"<p>Edit <code>NETWORK_CONFIG</code> in <code>firmware/src/config.rs</code>:</p> <pre><code>pub const NETWORK_CONFIG: NetworkConfig = NetworkConfig {\n    wifi_ssid: \"YOUR_WIFI_SSID\",\n    wifi_password: \"YOUR_WIFI_PASSWORD\",\n    api_host: \"your-api-domain.com\",\n    api_port: 443,\n    api_path: \"/your/custom/path\",\n};\n</code></pre>"},{"location":"firmware/api-integration/#sending-a-json-body-advanced","title":"Sending a JSON body (advanced)","text":"<p>The minimal firmware sends an empty body, but you can change <code>handle_clock_toggle</code> in <code>firmware/src/tasks/wifi.rs</code> to send JSON instead:</p> <pre><code>#[derive(serde::Serialize)]\nstruct TogglePayload&lt;'a&gt; {\n    action: &amp;'a str,\n}\n\nlet payload = TogglePayload { action: \"toggle\" };\nlet body = serde_json_core::to_string::&lt;_, heapless::String&lt;128&gt;&gt;(&amp;payload)\n    .map_err(|_| \"json\")?;\n\nwrite!(\n    &amp;mut request,\n    \"POST {} HTTP/1.1\\r\\nHost: {}\\r\\nContent-Type: application/json\\r\\nContent-Length: {}\\r\\nConnection: close\\r\\n\\r\\n{}\",\n    cfg.api_path,\n    cfg.api_host,\n    body.len(),\n    body,\n)?;\n</code></pre> <p>You can extend the payload to match your API (e.g., project IDs, auth tokens).</p>"},{"location":"firmware/api-integration/#testing-your-api","title":"Testing Your API","text":"<p>Before using the device, test your API manually:</p>"},{"location":"firmware/api-integration/#test-clock-in","title":"Test Clock In","text":"<pre><code>curl -X POST https://your-api.com/api/timer/start \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer YOUR_TOKEN\" \\\n  -d '{\"project_id\": \"office-time\"}'\n</code></pre> <p>Expected: 200 OK with <code>beat_id</code> in response</p>"},{"location":"firmware/api-integration/#test-clock-out","title":"Test Clock Out","text":"<pre><code>curl -X POST https://your-api.com/api/timer/stop \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer YOUR_TOKEN\" \\\n  -d '{\"beat_id\": \"12345\"}'\n</code></pre> <p>Expected: 200 OK confirming stop</p>"},{"location":"firmware/api-integration/#test-from-device-network","title":"Test from Device Network","text":"<p>Test from same network as device:</p> <pre><code># SSH into a device on same network or test from laptop on WiFi\ncurl -v https://your-api.com/api/timer/start \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer YOUR_TOKEN\" \\\n  -d '{\"project_id\": \"office-time\"}'\n</code></pre> <p>Check: - \u2705 DNS resolves correctly - \u2705 SSL certificate valid - \u2705 Firewall allows connection - \u2705 API responds with 200 OK</p>"},{"location":"firmware/api-integration/#authentication-methods","title":"Authentication Methods","text":""},{"location":"firmware/api-integration/#bearer-token-recommended","title":"Bearer Token (Recommended)","text":"<pre><code>// In api_client.cpp:\nhttp.addHeader(\"Authorization\", \"Bearer \" + api_token);\n</code></pre> <p>Set token in device configuration portal.</p>"},{"location":"firmware/api-integration/#api-key","title":"API Key","text":"<pre><code>// In api_client.cpp:\nhttp.addHeader(\"X-API-Key\", api_token);\n</code></pre>"},{"location":"firmware/api-integration/#basic-auth","title":"Basic Auth","text":"<pre><code>// In api_client.cpp:\nString auth = base64::encode(api_token + \":\" + api_password);\nhttp.addHeader(\"Authorization\", \"Basic \" + auth);\n</code></pre>"},{"location":"firmware/api-integration/#oauth2","title":"OAuth2","text":"<p>For OAuth2, you'll need to implement token refresh logic. This is advanced - see the firmware source code in the repository.</p>"},{"location":"firmware/api-integration/#network-requirements","title":"Network Requirements","text":""},{"location":"firmware/api-integration/#firewall-configuration","title":"Firewall Configuration","text":"<p>Ensure your API is accessible:</p> <ul> <li>\u2705 Allow incoming HTTPS (port 443) from your network</li> <li>\u2705 If using HTTP, allow port 80</li> <li>\u2705 If API is on local network, ensure ESP32 can reach it</li> </ul>"},{"location":"firmware/api-integration/#dns","title":"DNS","text":"<p>If using a domain name:</p> <ul> <li>\u2705 Ensure DNS resolves from your WiFi network</li> <li>\u2705 Test: <code>nslookup your-api-domain.com</code></li> </ul>"},{"location":"firmware/api-integration/#ssltls","title":"SSL/TLS","text":"<p>The device uses <code>WiFiClientSecure</code> with insecure mode by default:</p> <pre><code>secure_client-&gt;setInsecure();  // Skips certificate validation\n</code></pre> <p>For production, add certificate validation:</p> <pre><code>// In api_client.cpp:\nconst char* rootCA = R\"EOF(\n-----BEGIN CERTIFICATE-----\nYOUR_CERTIFICATE_HERE\n-----END CERTIFICATE-----\n)EOF\";\n\nsecure_client-&gt;setCACert(rootCA);\n</code></pre>"},{"location":"firmware/api-integration/#error-handling","title":"Error Handling","text":"<p>The device handles common errors:</p>"},{"location":"firmware/api-integration/#network-errors","title":"Network Errors","text":"<ul> <li>Connection Failed: Retries 3 times with exponential backoff</li> <li>Timeout: 10-second timeout per request</li> <li>DNS Failure: Shows yellow LED, retries on next button press</li> </ul>"},{"location":"firmware/api-integration/#http-errors","title":"HTTP Errors","text":"Code Meaning Device Behavior 200-299 Success Green LED, normal operation 401 Unauthorized Yellow LED, check token 403 Forbidden Yellow LED, check permissions 404 Not Found Yellow LED, check endpoint path 429 Rate Limited Yellow LED, waits 1 minute 500 Server Error Yellow LED, retries 502/503 Unavailable Yellow LED, retries"},{"location":"firmware/api-integration/#offline-mode","title":"Offline Mode","text":"<p>If API is unreachable:</p> <ol> <li>Device stores state locally (beat_id, timestamp)</li> <li>Shows yellow LED to indicate offline</li> <li>Retries periodically when button pressed</li> <li>Syncs when connection restored</li> </ol>"},{"location":"firmware/api-integration/#api-integration-examples","title":"API Integration Examples","text":""},{"location":"firmware/api-integration/#minimal-example-backend-fastapi","title":"Minimal Example Backend (FastAPI)","text":"<p>The easiest way to try the device end\u2011to\u2011end is to run a tiny local backend that implements the <code>/api/timer/toggle</code> endpoint the firmware expects:</p> <pre><code># backend.py\nfrom fastapi import FastAPI\nfrom pydantic import BaseModel\nfrom datetime import datetime\n\napp = FastAPI()\n\nclass State(BaseModel):\n    is_running: bool = False\n    last_toggle: datetime | None = None\n\nstate = State()\n\n@app.post(\"/api/timer/toggle\")\ndef toggle():\n    state.is_running = not state.is_running\n    state.last_toggle = datetime.utcnow()\n    return state\n</code></pre> <p>Run it locally:</p> <pre><code>pip install fastapi uvicorn\nuvicorn backend:app --host 0.0.0.0 --port 8000\n</code></pre> <p>Then set in <code>NETWORK_CONFIG</code>:</p> <pre><code>api_host: \"192.168.1.100\", // your dev machine IP on WiFi\napi_port: 8000,\napi_path: \"/api/timer/toggle\",\n</code></pre> <p>Pressing the button will now flip <code>is_running</code> on your backend.</p>"},{"location":"firmware/api-integration/#monitoring-api-calls","title":"Monitoring API Calls","text":""},{"location":"firmware/api-integration/#serial-monitor","title":"Serial Monitor","text":"<p>Connect device via USB to see API calls:</p> <pre><code>espflash monitor --speed 115200\n</code></pre> <p>Output: <pre><code>[INFO] Button pressed: Clock In\n[API] POST /api/timer/start\n[API] Response: 200 OK\n[INFO] Clocked in successfully! Beat ID: 12345\n</code></pre></p>"},{"location":"firmware/api-integration/#api-logs","title":"API Logs","text":"<p>Check your API server logs to verify:</p> <ul> <li>Requests are reaching the server</li> <li>Authentication is working</li> <li>Correct response format</li> <li>Response time &lt; 10 seconds</li> </ul>"},{"location":"firmware/api-integration/#security-best-practices","title":"Security Best Practices","text":"<p>Security Considerations</p> <ol> <li>Use HTTPS - Encrypts traffic including tokens</li> <li>Rotate Tokens - Change API tokens periodically</li> <li>Limit Scope - Use tokens with minimal permissions</li> <li>Network Security - Use WPA2/WPA3 for WiFi</li> <li>Device Physical Security - Device stores token in flash memory</li> </ol>"},{"location":"firmware/api-integration/#token-storage","title":"Token Storage","text":"<p>Tokens are stored in ESP32 non-volatile storage:</p> <ul> <li>Encrypted by ESP32 hardware (flash encryption)</li> <li>Persists across reboots</li> <li>Can be wiped with factory reset</li> </ul>"},{"location":"firmware/api-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"firmware/api-integration/#connection-failed-error","title":"\"Connection Failed\" Error","text":"<p>Possible Causes: - API server is down - DNS not resolving - Firewall blocking ESP32 - Network connectivity issue</p> <p>Solutions: 1. Test API with curl from same network 2. Check API server status 3. Verify firewall rules 4. Check WiFi connection</p>"},{"location":"firmware/api-integration/#http-401-unauthorized","title":"\"HTTP 401 Unauthorized\"","text":"<p>Cause: Invalid or missing API token</p> <p>Solution: 1. Verify token is correct 2. Check token hasn't expired 3. Ensure token has required permissions 4. Update token in device configuration</p>"},{"location":"firmware/api-integration/#http-404-not-found","title":"\"HTTP 404 Not Found\"","text":"<p>Cause: Wrong API endpoint path</p> <p>Solution: 1. Verify API endpoint URL in configuration 2. Check API documentation for correct paths 3. Modify firmware if paths are different</p>"},{"location":"firmware/api-integration/#timeout-error","title":"\"Timeout\" Error","text":"<p>Cause: API response time &gt; 10 seconds</p> <p>Solutions: 1. Optimize API performance 2. Increase timeout in <code>firmware/src/config.h</code>:    <pre><code>#define API_TIMEOUT_MS  20000  // 20 seconds\n</code></pre> 3. Check for slow database queries</p>"},{"location":"firmware/api-integration/#next-steps","title":"Next Steps","text":"<ul> <li>Configure Device: Configuration Guide</li> <li>Test Setup: Testing Guide</li> <li>Daily Use: Usage Guide</li> </ul> <p>Need Help? Check the Configuration Guide or open an issue on GitHub.</p>"},{"location":"firmware/architecture/","title":"Firmware Architecture","text":"<p>Overview of the async task-based architecture using Embassy.</p>"},{"location":"firmware/architecture/#async-task-architecture","title":"Async Task Architecture","text":"<p>The firmware uses Embassy's async executor to run concurrent tasks:</p> <pre><code>Embassy Executor\n\u251c\u2500\u2500 Button Task (tasks/button.rs)\n\u2502   \u251c\u2500\u2500 Async debouncing\n\u2502   \u251c\u2500\u2500 Long-press detection\n\u2502   \u2514\u2500\u2500 Event signaling\n\u251c\u2500\u2500 LED Task (tasks/led.rs)\n\u2502   \u251c\u2500\u2500 WS2812B control via RMT\n\u2502   \u251c\u2500\u2500 Status indication\n\u2502   \u2514\u2500\u2500 Energy meter display\n\u2514\u2500\u2500 WiFi Task (tasks/wifi.rs)\n    \u251c\u2500\u2500 Network management\n    \u251c\u2500\u2500 API communication\n    \u2514\u2500\u2500 State synchronization\n</code></pre>"},{"location":"firmware/architecture/#task-communication","title":"Task Communication","text":"<p>Tasks communicate via Embassy's <code>Signal</code> primitive: - Button Task \u2192 WiFi Task (button events) - WiFi Task \u2192 LED Task (status updates) - Type-safe, lock-free message passing</p>"},{"location":"firmware/architecture/#modules","title":"Modules","text":"<ul> <li>main.rs: Embassy executor initialization</li> <li>config.rs: Hardware constants and configuration</li> <li>tasks/button.rs: Async button handling with debouncing</li> <li>tasks/led.rs: WS2812B LED control (status + energy meter)</li> <li>tasks/wifi.rs: WiFi connection and API integration</li> </ul>"},{"location":"firmware/architecture/#data-flow","title":"Data Flow","text":"<ul> <li>Main loop polls/debounces button \u2192 state change</li> <li>Timer (5 min) \u2192 api \u2192 backend sync</li> <li>NTP sync at boot for accurate timestamps</li> </ul>"},{"location":"firmware/architecture/#storage","title":"Storage","text":"<ul> <li>NVS (non-volatile storage) for WiFi and API settings</li> <li>Optional offline session cache (future)</li> </ul>"},{"location":"firmware/architecture/#error-handling","title":"Error Handling","text":"<ul> <li>Network: exponential backoff (1s, 5s, 15s)</li> <li>API 5xx: retry; 4xx: surface to user</li> <li>Brownout: reduce brightness; pause sync</li> </ul>"},{"location":"firmware/architecture/#extensibility","title":"Extensibility","text":"<ul> <li>Project selection via DIP or long-press menu</li> <li>Additional sensors can publish metrics via API</li> </ul> <p>See: Installation, Configuration, API Integration</p>"},{"location":"firmware/configuration/","title":"Configuration","text":"<p>Configure WiFi, API endpoint, and basic device options in the Rust firmware.</p>"},{"location":"firmware/configuration/#where-to-configure-things-today","title":"Where to configure things (today)","text":"<p>In the current Rust firmware there is no configuration portal yet. All settings live in Rust code:</p> <ul> <li>File: <code>firmware/src/config.rs</code></li> <li>Type: <code>NetworkConfig</code></li> <li>Constant: <code>NETWORK_CONFIG</code></li> </ul> <pre><code>pub struct NetworkConfig {\n    pub wifi_ssid: &amp;'static str,\n    pub wifi_password: &amp;'static str,\n    pub api_host: &amp;'static str,\n    pub api_port: u16,\n    pub api_path: &amp;'static str,\n}\n\npub const NETWORK_CONFIG: NetworkConfig = NetworkConfig {\n    wifi_ssid: \"YOUR_WIFI_SSID\",\n    wifi_password: \"YOUR_WIFI_PASSWORD\",\n    api_host: \"192.168.1.100\",\n    api_port: 8000,\n    api_path: \"/api/timer/toggle\",\n};\n</code></pre>"},{"location":"firmware/configuration/#steps-to-configure-wifi-api","title":"Steps to configure WiFi + API","text":"<ol> <li>Open <code>firmware/src/config.rs</code> in your editor.</li> <li>Find the <code>NETWORK_CONFIG</code> constant.</li> <li>Set:</li> <li><code>wifi_ssid</code> to your 2.4GHz WiFi network name</li> <li><code>wifi_password</code> to your WiFi password</li> <li><code>api_host</code> to your backend host (IP or DNS)</li> <li><code>api_port</code> to the backend port (e.g. <code>8000</code> for local dev)</li> <li><code>api_path</code> to the path of your toggle endpoint (default: <code>/api/timer/toggle</code>)</li> <li>Rebuild and flash the firmware.</li> <li>Press the button \u2013 the device will issue a minimal HTTP <code>POST</code> to that endpoint.</li> </ol> <p>Note</p> <p>The default firmware sends a simple POST request with no JSON body and treats any successful TCP exchange as a \u201ctoggle\u201d. See API Integration for how to adapt this to your own API.</p>"},{"location":"firmware/configuration/#device-options","title":"Device Options","text":"<p>Other basic options are also in <code>firmware/src/config.rs</code>:</p> <ul> <li><code>LED_BRIGHTNESS</code> \u2013 overall LED brightness (0\u2013255)</li> <li><code>WORK_SESSION_HOURS</code> \u2013 hours represented by a full energy meter</li> <li><code>BUTTON_DEBOUNCE_MS</code> / <code>BUTTON_LONG_PRESS_MS</code> \u2013 button behavior</li> </ul> <p>More advanced options like deep sleep, NTP, and on-device configuration are planned but not implemented yet in the Rust firmware.</p> <p>See: API Integration, Daily Operation</p>"},{"location":"firmware/installation/","title":"Installation","text":"<p>Set up your development environment and flash the firmware.</p>"},{"location":"firmware/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Rust toolchain via rustup (stable)</li> <li>Target: <code>riscv32imc-unknown-none-elf</code> (RISC-V no_std embedded for ESP32-C6)</li> <li><code>espflash</code> CLI for flashing and serial monitor</li> </ul>"},{"location":"firmware/installation/#steps","title":"Steps","text":"<ol> <li>Install Rust toolchain:     <pre><code>curl -fsSL https://sh.rustup.rs | sh\n</code></pre></li> <li>Add RISC-V embedded target (no_std):     <pre><code>rustup target add riscv32imc-unknown-none-elf\n</code></pre></li> <li>Install espflash:     <pre><code>cargo install espflash --locked\n</code></pre></li> <li>Connect ESP32-C6 DevKitC-1 via USB-C</li> <li>Build and flash firmware:     <pre><code>cd firmware\ncargo build --release\ncargo run --release\n# Or use make commands:\nmake rust-build\nmake rust-flash\n</code></pre></li> </ol>"},{"location":"firmware/installation/#first-boot","title":"First Boot","text":"<ul> <li>The device will try to connect to the WiFi network defined in <code>firmware/src/config.rs</code> (<code>NETWORK_CONFIG.wifi_ssid</code> / <code>wifi_password</code>).</li> <li>On success, the top LED turns green after boot and the device is ready to send API requests on button press.</li> <li>On failure, the top LED stays blue/yellow \u2013 double\u2011check your WiFi credentials in <code>config.rs</code> and re\u2011flash.</li> </ul> <p>Note</p> <p>There is no web-based configuration portal yet in the Rust firmware. All WiFi and API settings are compile-time values in <code>firmware/src/config.rs</code>. See Configuration for details.</p>"},{"location":"firmware/installation/#rust-workflow-recommended","title":"Rust Workflow (Recommended)","text":"<ul> <li>Open project folder in VS Code</li> <li>Edit Rust source files in <code>firmware/src/</code></li> <li>Build and flash using the commands above</li> </ul>"},{"location":"firmware/installation/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Unknown serial port \u2192 try different USB cable or driver</li> <li>Compile error \u2192 check Rust toolchain and target</li> <li>Boot loop \u2192 press reset; lower LED brightness</li> </ul> <p>Next: Configuration</p>"},{"location":"firmware/overview/","title":"Firmware Overview","text":"<p>The Wall Clock In Machine firmware is built in pure Rust for ESP32-C6 DevKitC-1, using state-of-the-art embedded tools. This provides a modern, safe, and efficient solution for time tracking.</p>"},{"location":"firmware/overview/#technology-stack","title":"Technology Stack","text":"<ul> <li>esp-hal 0.20: Pure Rust hardware abstraction (no C!)</li> <li>Embassy 0.6: Modern async/await runtime for embedded</li> <li>defmt: Zero-cost structured logging</li> <li>Stable Rust: No nightly toolchain required</li> </ul>"},{"location":"firmware/overview/#architecture","title":"Architecture","text":"<p>The firmware uses a task-based async architecture with Embassy executor:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Embassy Executor                \u2502\n\u2502         (Async Runtime)                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502        \u2502        \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510  \u250c\u25bc\u2500\u2500\u2500\u2500\u2510  \u250c\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502 Button \u2502  \u2502 LED \u2502  \u2502   WiFi   \u2502\n    \u2502  Task  \u2502  \u2502Task \u2502  \u2502   Task   \u2502\n    \u2502 (Async)\u2502  \u2502(Async)\u2502 \u2502 (Async) \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502        \u2502        \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502       esp-hal (Pure Rust)        \u2502\n    \u2502      Hardware Abstraction        \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"firmware/overview/#state-machine","title":"State Machine","text":"<p>The device operates as a finite state machine with 5 distinct states:</p> <pre><code>stateDiagram-v2\n    [*] --&gt; STARTUP\n    STARTUP --&gt; WIFI_CONNECTING\n    WIFI_CONNECTING --&gt; IDLE_CLOCKED_OUT: Connected\n    WIFI_CONNECTING --&gt; WIFI_CONNECTING: Retry\n\n    IDLE_CLOCKED_OUT --&gt; WORKING_CLOCKED_IN: Button DOWN\n    WORKING_CLOCKED_IN --&gt; IDLE_CLOCKED_OUT: Button UP\n\n    IDLE_CLOCKED_OUT --&gt; ERROR: API Failed\n    WORKING_CLOCKED_IN --&gt; ERROR: API Failed\n    ERROR --&gt; IDLE_CLOCKED_OUT: Retry Success\n    ERROR --&gt; WORKING_CLOCKED_IN: Retry Success</code></pre>"},{"location":"firmware/overview/#state-descriptions","title":"State Descriptions","text":"State LED Color Description Transitions STARTUP \ud83d\udd35 Blue pulse Initial boot, loading config \u2192 WIFI_CONNECTING WIFI_CONNECTING \ud83d\udd35 Blue pulse Connecting to WiFi \u2192 IDLE or keep trying IDLE_CLOCKED_OUT \ud83d\udd34 Red solid Not working, idle \u2192 WORKING (button down) WORKING_CLOCKED_IN \ud83d\udfe2 Green solid Currently working \u2192 IDLE (button up) ERROR \ud83d\udfe1 Yellow flash API/WiFi error \u2192 IDLE/WORKING (retry)"},{"location":"firmware/overview/#code-structure","title":"Code Structure","text":""},{"location":"firmware/overview/#file-organization","title":"File Organization","text":"<pre><code>firmware/\n\u251c\u2500\u2500 Cargo.toml             # Rust dependencies and config\n\u251c\u2500\u2500 rust-toolchain.toml    # Rust toolchain config\n\u251c\u2500\u2500 .cargo/config.toml     # Cargo target and runner\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 main.rs            # Main state machine\n\u2502   \u251c\u2500\u2500 config.rs          # Configuration constants\n\u2502   \u251c\u2500\u2500 types.rs           # Data structures &amp; enums\n\u2502   \u251c\u2500\u2500 button.rs          # Button interface and debouncing\n\u2502   \u251c\u2500\u2500 led.rs             # LED interface and animations\n\u2502   \u251c\u2500\u2500 api.rs             # API interface and HTTP client\n\u2514\u2500\u2500 README.md              # Firmware overview\n</code></pre>"},{"location":"firmware/overview/#module-responsibilities","title":"Module Responsibilities","text":""},{"location":"firmware/overview/#1-mainrs-application-core","title":"1. main.rs - Application Core","text":"<p>Responsibilities: - Initialize all subsystems - Run main state machine loop - Handle button events - Coordinate LED updates - Manage deep sleep</p> <p>Key Functions (Rust): <pre><code>fn main()                // One-time initialization and main event loop\nfn handle_button_press() // React to button state changes\nfn update_energy_meter() // Update work duration display\nfn go_to_sleep()         // Enter deep sleep mode\n</code></pre></p> <p>Main Loop Flow (Rust): <pre><code>loop {\n    // 1. Read button state\n    // 2. Check for state changes\n    // 3. Update LEDs\n    // 4. Handle API calls\n    // 5. Check for sleep conditions\n    // 6. Repeat every 100ms\n}\n</code></pre></p>"},{"location":"firmware/overview/#2-buttonrs-input-processing","title":"2. button.rs - Input Processing","text":"<p>Responsibilities: - Debounce mechanical switch - Detect state changes - Track button timing - Detect long press (3 seconds)</p> <p>Key Functions (Rust): <pre><code>fn begin(pin: i32)                  // Initialize GPIO\nfn update(&amp;mut self)                // Call every loop\nfn is_pressed(&amp;self) -&gt; bool        // Current state\nfn event(&amp;mut self) -&gt; ButtonEvent  // Returns None/Pressed/Released/LongPress\n</code></pre></p> <p>Debouncing Algorithm: <pre><code>// Read switch 50ms apart\nif current_state != last_state {\n    debounce_timer = now();\n}\nif now() - debounce_timer &gt; DEBOUNCE_TIME {\n    stable_state = current_state;\n    if stable_state != previous_state {\n        return Pressed or Released;\n    }\n}\n</code></pre></p>"},{"location":"firmware/overview/#3-led_controller-visual-feedback","title":"3. led_controller - Visual Feedback","text":"<p>Responsibilities: - Control 8 WS2812B LEDs - Status indicator (LED 0) - Energy meter (LEDs 1-7) - Animations (pulse, rainbow)</p> <p>Key Functions (Rust): <pre><code>fn begin(pin: i32, num_leds: usize)        // Initialize LED strip\nfn set_status(color: Rgb)                  // Set status LED color\nfn set_energy_meter(hours: f32)            // Display work duration\nfn pulse_status(color: Rgb)                // Breathing animation\nfn rainbow_celebration()                   // Completed workday animation\nfn clear()                                 // Turn all LEDs off\n</code></pre></p> <p>Energy Meter Algorithm: <pre><code>// Map 0-8 hours to 7 LEDs with thermal gradient\nlet hours = clamp(work_hours, 0.0, 8.0);\nlet led_count = (hours / 8.0) * 7.0;\n\nfor i in 0..7 {\n    if (i as f32) &lt; led_count {\n        // Gradient: Green \u2192 Yellow \u2192 Orange \u2192 Red\n        let hue = map(i, 0, 7, 96, 0);  // HSV hue\n        leds[i+1] = hsv_to_rgb(hue, 255, brightness);\n    }\n}\n</code></pre></p>"},{"location":"firmware/overview/#4-api_client-network-communication","title":"4. api_client - Network Communication","text":"<p>Responsibilities: - HTTPS communication with API - Request retry logic - JSON parsing - Error handling</p> <p>Key Functions: <pre><code>bool begin(endpoint, token)   // Initialize with credentials\nbool clockIn()               // POST /api/timer/start\nbool clockOut()              // POST /api/timer/stop\nbool getCurrentStatus()      // GET /api/timer/current\n</code></pre></p> <p>Retry Logic: <pre><code>for (attempt = 1; attempt &lt;= 3; attempt++) {\n    result = sendRequest();\n    if (result.success) {\n        return true;\n    }\n    delay(attempt * 1000);  // Exponential backoff\n}\nreturn false;  // All retries failed\n</code></pre></p> <p>Error Handling: <pre><code>if (httpCode == 200) {\n    parseJSON(response);\n    return SUCCESS;\n} else if (httpCode == 401) {\n    return AUTH_ERROR;\n} else if (httpCode &gt;= 500) {\n    return SERVER_ERROR;\n} else {\n    return NETWORK_ERROR;\n}\n</code></pre></p>"},{"location":"firmware/overview/#configuration","title":"Configuration","text":"<p>All configurable parameters are in <code>config.rs</code>:</p>"},{"location":"firmware/overview/#wifi-settings","title":"WiFi Settings","text":"<pre><code>pub const WIFI_CONNECT_TIMEOUT_SECS: u64 = 30;\n</code></pre> <p>WiFi credentials are currently compile-time values in <code>firmware/src/config.rs</code> (<code>NETWORK_CONFIG</code>). A future version may move these into NVS + a config portal.</p>"},{"location":"firmware/overview/#api-settings","title":"API Settings","text":"<pre><code>pub const API_TIMEOUT_SECS: u64 = 10; // 10 seconds per request\npub const API_RETRY_COUNT: u8 = 3;    // Retry 3 times\n</code></pre> <p>The actual host, port, and path for the API live in <code>NETWORK_CONFIG</code> in <code>firmware/src/config.rs</code>.</p>"},{"location":"firmware/overview/#hardware-pins","title":"Hardware Pins","text":"<pre><code>pub const BUTTON_PIN: i32 = 2;    // Toggle switch GPIO\npub const LED_PIN: i32 = 3;       // WS2812B data GPIO\npub const NUM_LEDS: usize = 8;    // Total LED count\n</code></pre>"},{"location":"firmware/overview/#timing","title":"Timing","text":"<pre><code>pub const DEBOUNCE_TIME_MS: u64 = 50;        // Button debounce\npub const LONG_PRESS_TIME_MS: u64 = 3_000;   // Long press = 3 seconds\npub const SLEEP_TIMEOUT_MS: u64 = 300_000;   // Sleep after 5 minutes\npub const ENERGY_UPDATE_MS: u64 = 300_000;   // Update meter every 5 min\n</code></pre>"},{"location":"firmware/overview/#power-management","title":"Power Management","text":"<pre><code>pub const ENABLE_DEEP_SLEEP: bool = true;     // Battery saving\npub const DEEP_SLEEP_TIME_US: u64 = 3_600_000_000; // Wake every hour\npub const LED_BRIGHTNESS: u8 = 64;            // 0-255 (25% = longer battery)\n</code></pre>"},{"location":"firmware/overview/#data-structures","title":"Data Structures","text":""},{"location":"firmware/overview/#enums","title":"Enums","text":"<pre><code>// Device operational states\npub enum DeviceState {\n    Startup,\n    WifiConnecting,\n    IdleClockedOut,\n    WorkingClockedIn,\n    Error,\n}\n\n// Button events\npub enum ButtonEvent {\n    None,           // No change\n    Pressed,        // Button just pressed\n    Released,       // Button just released\n    LongPress,      // Held for 3+ seconds\n}\n\n// API response codes\npub enum ApiResult {\n    Success,\n    AuthError,\n    NetworkError,\n    ServerError,\n    TimeoutError,\n}\n</code></pre>"},{"location":"firmware/overview/#structures","title":"Structures","text":"<pre><code>// Work session tracking\npub struct WorkSession {\n    pub start_time: u64,    // Unix timestamp\n    pub duration: u32,      // Seconds elapsed\n    pub active: bool,       // Currently working?\n}\n\n// WiFi configuration (stored in NVS)\npub struct WifiConfig {\n    pub ssid: heapless::String&lt;32&gt;,\n    pub password: heapless::String&lt;64&gt;,\n    pub configured: bool,\n}\n\n// API configuration (stored in NVS)\npub struct ApiConfig {\n    pub endpoint: heapless::String&lt;128&gt;,\n    pub token: heapless::String&lt;256&gt;,\n    pub configured: bool,\n}\n</code></pre>"},{"location":"firmware/overview/#libraries-dependencies","title":"Libraries &amp; Dependencies","text":"<p>The firmware uses these crates (managed by Cargo):</p> Crate Purpose esp-hal Pure Rust hardware abstraction (GPIO, timers, RMT, etc.) esp-wifi WiFi + network stack integration for ESP32-C6 embassy-executor / embassy-time / embassy-net Async runtime, timers, and TCP/IP smart-leds / esp-hal-smartled WS2812/NeoPixel color types and RMT-based driver serde / serde-json-core Data serialization for no_std environments heapless Fixed-size data structures (no allocator required) defmt Efficient logging over serial <p>Buit with pure Rust for ESP32-C6 DevKitC-1 (<code>no_std</code> + <code>esp-hal</code>). Fits comfortably within flash and RAM limits for this MCU.</p>"},{"location":"firmware/overview/#memory-usage","title":"Memory Usage","text":""},{"location":"firmware/overview/#flash-memory-program-storage","title":"Flash Memory (Program Storage)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 4MB\n\u2502 Bootloader (64KB)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Partition Table (4KB)    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 NVS (20KB)              \u2502 \u2190 WiFi, API config stored here\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 OTA Updates (1.8MB)     \u2502 \u2190 Reserved for firmware updates\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 App Firmware (800KB)    \u2502 \u2190 Our code\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 SPIFFS (1.3MB)          \u2502 \u2190 File system (unused)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Usage: 800KB / 4MB = 20%</p>"},{"location":"firmware/overview/#sram-runtime-memory","title":"SRAM (Runtime Memory)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 400KB\n\u2502 Heap (240KB)            \u2502 \u2190 Dynamic allocation\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Stack (16KB)            \u2502 \u2190 Function calls\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Global vars (8KB)       \u2502 \u2190 Our variables\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 WiFi buffers (80KB)     \u2502 \u2190 WiFi stack\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 System reserved (56KB)   \u2502 \u2190 ESP32 system\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Peak usage: ~180KB / 400KB = 45%</p>"},{"location":"firmware/overview/#boot-sequence","title":"Boot Sequence","text":"<p>The device follows this startup sequence:</p> <pre><code>0ms    Power On / Reset\n\u2502\n\u251c\u2500 100ms   ESP32 bootloader starts\n\u2502\n\u251c\u2500 500ms   HAL initializes (clocks, timers, GPIO)\n\u2502          - Setup serial communication\n\u2502          - Initialize GPIO pins\n\u2502          - Load config from NVS\n\u2502\n\u251c\u2500 1000ms  Rust main initializes subsystems\n\u2502          - Initialize button handler\n\u2502          - Initialize LED controller\n\u2502          - Show blue pulse (STARTUP state)\n\u2502\n\u251c\u2500 1500ms  WiFi connection starts\n\u2502          - Load WiFi credentials\n\u2502          - Attempt connection\n\u2502          - OR start configuration portal\n\u2502\n\u251c\u2500 2000ms  WiFi connected (if successful)\n\u2502          - Get current time from NTP\n\u2502          - Load API configuration\n\u2502          - Query current work status\n\u2502\n\u251c\u2500 2500ms  Ready for operation\n\u2502          - Show status LED (red or green)\n\u2502          - Update energy meter\n\u2502          - Enter main event loop\n\u2502\n\u25bc          Main loop runs every 100ms\n</code></pre> <p>Typical boot time: 2-3 seconds</p>"},{"location":"firmware/overview/#power-management_1","title":"Power Management","text":""},{"location":"firmware/overview/#sleep-strategy","title":"Sleep Strategy","text":"<p>The firmware aggressively uses deep sleep to maximize battery life:</p> <pre><code>// Check for inactivity\nif idle_clocked_out &amp;&amp; now.since(last_activity) &gt; SLEEP_TIMEOUT {\n    // Persist state (planned: NVS / flash-backed config)\n    nvs.set_bool(\"clocked_in\", false)?;\n\n    // Configure wake-up sources\n    wake_on_gpio(button_pin, Level::Low)?;     // Button press\n    wake_on_timer(DEEP_SLEEP_TIME)?;           // Periodic wake\n\n    // Turn off LEDs and sleep\n    leds.clear();\n    deep_sleep_start()?;                       // ~5\u00b5A current draw\n}\n</code></pre> <p>Wake sources: 1. Button press - Immediate wake 2. Timer - Wake every hour to check status 3. Reset button - Manual wake</p>"},{"location":"firmware/overview/#power-consumption-timeline","title":"Power Consumption Timeline","text":"<pre><code>Typical Day (Clocked Out):\n\n00:00 \u2500\u2500\u2500\u2500\u2510                                    5\u00b5A (sleeping)\n          \u2502 Button press\n07:30     \u251c\u2500\u2510                                  80mA (5 sec)\n          \u2502 \u2514\u2500\u2500 API call complete\n          \u2502                                    5\u00b5A (sleeping)\n          \u2502\n12:00     \u251c\u2500\u2510 Periodic wake                   80mA (2 sec)\n          \u2502 \u2514\u2500\u2500                                5\u00b5A\n          \u2502\n18:00     \u251c\u2500\u2510 Button press                    80mA (5 sec)\n          \u2502 \u2514\u2500\u2500\n          \u2502                                    5\u00b5A\n23:59 \u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Average: ~15mA over 24 hours</p>"},{"location":"firmware/overview/#error-handling","title":"Error Handling","text":"<p>The firmware includes comprehensive error handling:</p>"},{"location":"firmware/overview/#wifi-errors","title":"WiFi Errors","text":"<pre><code>if (!WiFi.begin(ssid, password)) {\n    // Credentials missing \u2192 Start config portal\n    startConfigPortal();\n}\n\nif (WiFi.status() != WL_CONNECTED) {\n    retryCount++;\n    if (retryCount &gt; MAX_RETRIES) {\n        // Show error LED\n        ledController.setStatus(COLOR_YELLOW);\n        // Wait and retry\n        delay(5000);\n        retryCount = 0;\n    }\n}\n</code></pre>"},{"location":"firmware/overview/#api-errors","title":"API Errors","text":"<pre><code>ApiResult result = apiClient.clockIn();\n\nswitch (result) {\n    case SUCCESS:\n        currentState = WORKING_CLOCKED_IN;\n        ledController.setStatus(COLOR_GREEN);\n        break;\n\n    case AUTH_ERROR:\n        // Invalid token \u2192 Show config portal\n        startConfigPortal();\n        break;\n\n    case NETWORK_ERROR:\n    case TIMEOUT_ERROR:\n        // Retry with backoff\n        ledController.pulseStatus(COLOR_YELLOW);\n        delay(retryDelay);\n        break;\n\n    case SERVER_ERROR:\n        // Server problem \u2192 Wait longer\n        ledController.setStatus(COLOR_RED);\n        delay(30000);\n        break;\n}\n</code></pre>"},{"location":"firmware/overview/#hardware-errors","title":"Hardware Errors","text":"<pre><code>// Watchdog timer catches firmware hangs\nesp_task_wdt_init(10, true);  // 10 second timeout\nesp_task_wdt_add(NULL);\n\n// Check for low battery\nfloat voltage = analogRead(BATTERY_PIN) * (3.3 / 4095.0) * 2;\nif (voltage &lt; 3.2) {\n    ledController.pulseStatus(COLOR_RED);\n    // Show low battery warning\n}\n\n// Check LED strip connection (visual validation)\n// Optionally send a test frame and verify expected colors\n</code></pre>"},{"location":"firmware/overview/#testing","title":"Testing","text":""},{"location":"firmware/overview/#unit-tests","title":"Unit Tests","text":"<p>The firmware's pure logic can be tested on the host using Rust's testing framework:</p> <pre><code>// Example (host-side)\n#[test]\nfn button_long_press_detection() {\n    // arrange inputs, simulate timing, assert events\n}\n</code></pre> <p>Running tests locally: <pre><code>cargo test\n</code></pre></p>"},{"location":"firmware/overview/#manual-testing-checklist","title":"Manual Testing Checklist","text":"<p>Before deploying firmware:</p> <ul> <li> Button press \u2192 Green LED + API call</li> <li> Button release \u2192 Red LED + API call</li> <li> Long press (3s) \u2192 Config portal starts</li> <li> WiFi disconnect \u2192 Reconnects automatically</li> <li> API timeout \u2192 Retries with backoff</li> <li> Deep sleep \u2192 Wakes on button press</li> <li> Battery low \u2192 Shows warning</li> <li> Energy meter \u2192 Updates every 5 minutes</li> <li> 8 hour work \u2192 Rainbow celebration</li> </ul>"},{"location":"firmware/overview/#performance","title":"Performance","text":""},{"location":"firmware/overview/#response-times","title":"Response Times","text":"Action Time Notes Button press to LED &lt;50ms Instant feedback Button press to API call 200-500ms Network latency WiFi reconnect 2-5 seconds After disconnect Deep sleep wake 100ms Fast resume Config portal start 3 seconds On long press"},{"location":"firmware/overview/#network-usage","title":"Network Usage","text":"Operation Data Transfer Frequency Clock In ~200 bytes Once per day Clock Out ~200 bytes Once per day Status Check ~150 bytes Once per hour NTP sync ~100 bytes Once per day <p>Daily total: &lt;2KB</p> <p>Monthly total: &lt;60KB (negligible for any data plan)</p>"},{"location":"firmware/overview/#firmware-updates","title":"Firmware Updates","text":""},{"location":"firmware/overview/#ota-over-the-air-updates","title":"OTA (Over-The-Air) Updates","text":"<p>OTA updates can be implemented using the ESP32 OTA support exposed in Rust crates. This project currently focuses on USB flashing via <code>espflash</code>; OTA is an optional enhancement.</p>"},{"location":"firmware/overview/#usb-updates","title":"USB Updates","text":"<p>Connect USB-C cable and flash directly:</p> <pre><code># Flash via USB using espflash\nespflash flash target/riscv32imc-esp-espidf/release/firmware\n</code></pre> <p>No bootloader button needed - ESP32-C6 DevKitC-1 has native USB!</p>"},{"location":"firmware/overview/#customization","title":"Customization","text":""},{"location":"firmware/overview/#adding-new-features","title":"Adding New Features","text":"<p>Want to add a buzzer for audio feedback?</p> <pre><code>// 1. Add to config.h\n#define BUZZER_PIN GPIO_NUM_4\n\n// 2. Initialize in setup()\npinMode(BUZZER_PIN, OUTPUT);\n\n// 3. Add beep function\nvoid beep(int duration) {\n    digitalWrite(BUZZER_PIN, HIGH);\n    delay(duration);\n    digitalWrite(BUZZER_PIN, LOW);\n}\n\n// 4. Call in main loop\nif (buttonEvent == PRESSED) {\n    beep(100);  // 100ms beep\n}\n</code></pre>"},{"location":"firmware/overview/#changing-led-colors","title":"Changing LED Colors","text":"<p>Edit <code>led_controller.cpp</code>:</p> <pre><code>// Change color scheme\n#define COLOR_IDLE      CRGB::Blue     // Instead of Red\n#define COLOR_WORKING   CRGB::Purple   // Instead of Green\n#define COLOR_ERROR     CRGB::Orange   // Instead of Yellow\n</code></pre>"},{"location":"firmware/overview/#adjusting-timings","title":"Adjusting Timings","text":"<p>Edit <code>config.h</code>:</p> <pre><code>// More aggressive sleep (shorter timeout)\n#define SLEEP_TIMEOUT_MS 60000        // 1 minute instead of 5\n\n// More frequent energy meter updates\n#define ENERGY_UPDATE_MS 60000        // 1 minute instead of 5\n\n// Faster WiFi connection\n#define WIFI_TIMEOUT_MS 10000         // 10 seconds instead of 30\n</code></pre>"},{"location":"firmware/overview/#next-steps","title":"Next Steps","text":"<p>Ready to install the firmware?</p> <ul> <li>Installation Guide - Flash firmware to ESP32</li> <li>Configuration Guide - Setup WiFi and API</li> <li>API Integration - Connect to your backend</li> </ul> <p>Or dive deeper:</p> <ul> <li>Source Code - Browse on GitHub</li> <li>Architecture Guide - Understand the codebase</li> </ul>"},{"location":"getting-started/overview/","title":"Overview","text":"<p>Welcome to the Wall Clock In Machine project! This guide will help you understand what this project is about and whether it's right for you.</p>"},{"location":"getting-started/overview/#what-is-this","title":"What Is This?","text":"<p>The Wall Clock In Machine is a physical IoT device that automates time tracking for office workers. Instead of typing terminal commands to start/stop your work timer, you simply press a button on your desk.</p>"},{"location":"getting-started/overview/#the-problem-it-solves","title":"The Problem It Solves","text":"<p>If you use a timer API to track your work hours, you probably do this every day:</p> <pre><code># When arriving at office\ncurl -X POST https://your-api.com/api/timer/start \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"project_id\": \"office-time\"}'\n\n# When leaving office  \ncurl -X POST https://your-api.com/api/timer/stop \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"beat_id\": \"12345\"}'\n</code></pre> <p>This process:</p> <ul> <li>\u274c Takes 15 seconds (twice a day)</li> <li>\u274c Interrupts your workflow</li> <li>\u274c Easy to forget</li> <li>\u274c Requires opening terminal</li> <li>\u274c Frustrating on busy days</li> </ul>"},{"location":"getting-started/overview/#the-solution","title":"The Solution","text":"<p>With the Wall Clock In Machine:</p> <ul> <li>Press a physical toggle switch instead of typing curl commands.</li> <li>Device calls your API automatically and shows state via LEDs.</li> </ul>"},{"location":"getting-started/overview/#who-is-this-for","title":"Who Is This For?","text":"<p>This project is perfect for you if:</p> <ul> <li>\u2705 You track work time using an API/service</li> <li>\u2705 You're tired of typing terminal commands</li> <li>\u2705 You like physical buttons and tactile feedback</li> <li>\u2705 You enjoy DIY electronics projects</li> <li>\u2705 You want to learn IoT development</li> <li>\u2705 You have basic soldering skills (or want to learn)</li> </ul>"},{"location":"getting-started/overview/#skill-level","title":"Skill Level","text":"<p>Beginner to Intermediate</p> <ul> <li>Basic electronics knowledge helpful but not required</li> <li>Never soldered before? Our guides teach you!</li> <li>Comfortable with command line is useful</li> <li>No programming required (Rust firmware is ready to flash)</li> </ul>"},{"location":"getting-started/overview/#time-investment","title":"Time Investment","text":"Phase Time Required Reading Documentation 2-3 hours Ordering Components 1 hour Waiting for Delivery 1-4 weeks Assembly 2-3 hours Firmware Setup 30 minutes Configuration 15 minutes Total Active Time ~5 hours"},{"location":"getting-started/overview/#project-features","title":"Project Features","text":""},{"location":"getting-started/overview/#hardware","title":"Hardware","text":"<ul> <li> <p>ESP32-C6 DevKitC-1 Microcontroller</p> <p>WiFi 6 enabled, low power, USB-C programming</p> </li> <li> <p>8 RGB LEDs</p> <p>Status indicator + energy meter display</p> </li> <li> <p>Toggle Switch</p> <p>Satisfying mechanical button with tactile feedback</p> </li> <li> <p>2000mAh Battery</p> <p>10-14 days runtime, USB-C rechargeable</p> </li> </ul>"},{"location":"getting-started/overview/#firmware","title":"Firmware","text":"<ul> <li>WiFi Connectivity \u2013 Connects to a single configured network</li> <li>Async Tasks \u2013 Separate tasks for button, LEDs, and WiFi using Embassy</li> <li>Basic API Integration \u2013 Simple HTTP POST to your timer API</li> <li>Planned: Web configuration portal, deep sleep, OTA updates, and richer error handling</li> </ul>"},{"location":"getting-started/overview/#design","title":"Design","text":"<ul> <li>Professional Appearance - Looks good on any desk</li> <li>Compact Size - 100\u00d760\u00d735mm (about size of deck of cards)</li> <li>3D Printable - STL files included</li> <li>Open Source - Modify as you like</li> <li>Well Documented - Step-by-step guides for everything</li> </ul>"},{"location":"getting-started/overview/#what-youll-need","title":"What You'll Need","text":""},{"location":"getting-started/overview/#tools-required","title":"Tools Required","text":"Tool Cost Where to Buy Soldering Iron $15-25 Amazon Solder $8 Amazon Wire Strippers $10 Amazon Multimeter $15 Amazon Screwdriver Set $10 Amazon USB-C Cable $5 Amazon Total ~$70 One-time investment <p>Already Have Tools?</p> <p>If you have basic electronics tools, you're all set! If not, this is a great starter kit that you'll use for many projects.</p>"},{"location":"getting-started/overview/#components-required","title":"Components Required","text":"<p>Total Cost: ~$35</p> <p>See Bill of Materials for complete shopping list with links.</p>"},{"location":"getting-started/overview/#software-required-free","title":"Software Required (Free!)","text":"<ul> <li>Code Editor: VS Code (recommended)</li> <li>Rust toolchain: For firmware development</li> <li>espflash: For flashing and serial monitor</li> </ul> <p>All software is free and open source!</p>"},{"location":"getting-started/overview/#prerequisites","title":"Prerequisites","text":""},{"location":"getting-started/overview/#technical-requirements","title":"Technical Requirements","text":"<p>Your Timer API Must Have:</p> <ul> <li>\u2705 HTTP/HTTPS endpoint for starting timer</li> <li>\u2705 HTTP/HTTPS endpoint for stopping timer</li> <li>\u2705 JSON API (or be willing to modify firmware)</li> <li>\u2705 Accessible from your WiFi network</li> </ul> <p>Example API Format: <pre><code>POST /api/timer/start\n{\n  \"project_id\": \"office-time\"\n}\n\nPOST /api/timer/stop\n{\n  \"beat_id\": \"12345\"\n}\n</code></pre></p> <p>API Flexibility</p> <p>The firmware is designed to work with the API structure shown above, but you can easily modify it to match your specific API. See API Integration for details.</p>"},{"location":"getting-started/overview/#knowledge-requirements","title":"Knowledge Requirements","text":"<p>Helpful to Know (but not required):</p> <ul> <li>Basic electronics (what is voltage, current, ground)</li> <li>Soldering (or watch a YouTube tutorial first)</li> <li>Command line basics (cd, ls, running commands)</li> <li>ESP-IDF + Rust basics (helpful for troubleshooting)</li> </ul> <p>Don't Worry If You Don't Know:</p> <p>Our documentation explains everything step-by-step with:</p> <ul> <li>Clear instructions with photos/diagrams</li> <li>Troubleshooting for common issues</li> <li>Beginner-friendly explanations</li> <li>No assumptions about prior knowledge</li> </ul>"},{"location":"getting-started/overview/#project-structure","title":"Project Structure","text":"<p>The complete project includes:</p> <pre><code>office-wall-clock/\n\u251c\u2500\u2500 hardware/           # Component specs and BOM\n\u251c\u2500\u2500 firmware/           # Complete Rust source code\n\u251c\u2500\u2500 docs-site/          # This documentation website\n\u251c\u2500\u2500 tools/              # Helper scripts and utilities\n\u2514\u2500\u2500 README.md           # Quick overview\n</code></pre>"},{"location":"getting-started/overview/#what-makes-this-useful","title":"What Makes This Useful","text":"<ul> <li>Hardware, firmware, and docs are all included in this repo.</li> <li>The design is simple enough for a first IoT build but still non-trivial.</li> <li>All code is open source, so you can adapt it to your own API or LEDs.</li> </ul>"},{"location":"getting-started/overview/#next-steps","title":"Next Steps","text":"<p>Ready to get started?</p> <ol> <li>Read the Quick Start Guide - 5-minute overview</li> <li>Review Project Timeline - Plan your build</li> <li>Check Bill of Materials - See what to buy</li> <li>Order Components - Get parts on the way</li> <li>Start Building! - Follow assembly guides</li> </ol> <p>Quick Start Guide View Project on GitHub</p>"},{"location":"getting-started/overview/#questions","title":"Questions?","text":"<ul> <li>Check the documentation for common issues.</li> <li>Open an issue on GitHub.</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>Get your Wall Clock In Machine up and running in under 2 hours! This guide assumes you have all components ready.</p>"},{"location":"getting-started/quick-start/#for-lausanne-residents","title":"\ud83c\udde8\ud83c\udded For Lausanne Residents","text":"<p>Fastest path to success:</p> <ol> <li>Order components: CHF 90, 2-3 day delivery</li> <li>Digitec Galaxus - Electronics</li> <li> <p>Conrad.ch - Components</p> </li> <li> <p>Get tools: Free at FabLab EPFL or CHF 80 one-time</p> </li> <li>FabLab EPFL: B\u00e2timent MX, EPFL Campus</li> <li> <p>Open hours: Check EPFL FabLab website or contact EPFL directly</p> </li> <li> <p>Build time: 2-3 hours at FabLab (help available!)</p> </li> </ol>"},{"location":"getting-started/quick-start/#timeline-overview","title":"Timeline Overview","text":"<pre><code>Week 1: Order &amp; Wait\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Day 1: Order parts     \u2502 30 min\n\u2502 Day 2-3: Wait          \u2502 \u23f3\n\u2502 Day 3: Parts arrive! \u2713 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nWeek 2: Build\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Hour 1: Solder         \u2502 \ud83d\udd25\n\u2502 Hour 2: Assemble       \u2502 \ud83d\udd27\n\u2502 Hour 3: Program        \u2502 \ud83d\udcbb\n\u2502 Done! Working device \u2713 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Total active time: ~3 hours Total calendar time: 3-4 days (with fast shipping)</p>"},{"location":"getting-started/quick-start/#step-by-step-the-express-route","title":"Step-by-Step: The Express Route","text":""},{"location":"getting-started/quick-start/#step-1-order-components-30-minutes","title":"Step 1: Order Components (30 minutes)","text":"<p>Shopping List (CHF 90 total):</p> <p>From Digitec Galaxus: - [ ] ESP32-C3 DevKit (~CHF 15) - [ ] WS2812B LED Strip 1m (~CHF 12) - [ ] 2000mAh LiPo Battery (~CHF 18) - [ ] USB-C cable (~CHF 5)</p> <p>Search terms: \"ESP32-C3\", \"WS2812B LED\", \"LiPo battery 2000mah\"</p> <p>From Conrad.ch: - [ ] TP4056 Charger Module (~CHF 8) - [ ] AMS1117 3.3V Regulator (~CHF 3) - [ ] SPDT Toggle Switch (~CHF 5) - [ ] Wire kit 22AWG (~CHF 12) - [ ] Component kit (resistors, caps) (~CHF 8) - [ ] Project box or 3D print material (~CHF 10)</p> <p>Delivery: 1-3 days to Lausanne</p>"},{"location":"getting-started/quick-start/#step-2-prepare-15-minutes","title":"Step 2: Prepare (15 minutes)","text":"<p>While waiting for parts:</p> <ol> <li> <p>Download firmware:    <pre><code>git clone https://github.com/lanterno/office-wall-clock.git\ncd office-wall-clock/firmware\n</code></pre></p> </li> <li> <p>Install Rust toolchain and espflash:    <pre><code>curl -fsSL https://sh.rustup.rs | sh\nrustup target add riscv32imc-unknown-none-elf\ncargo install espflash --locked\n</code></pre>    rustup target add riscv32imc-esp-espidf    cargo install espflash --locked    ```</p> </li> <li> <p>Configure API endpoint:    Edit <code>firmware/src/config.rs</code>:    <pre><code>pub const API_ENDPOINT: &amp;str = \"https://your-api.com\";\npub const API_TOKEN: &amp;str = \"your_token_here\";\n</code></pre></p> </li> <li> <p>Read assembly guide (you are here!)</p> </li> </ol>"},{"location":"getting-started/quick-start/#step-3-solder-components-60-90-minutes","title":"Step 3: Solder Components (60-90 minutes)","text":"<p>Location: FabLab EPFL or home workshop</p> <p>Tools needed: All available at FabLab</p> <p>Process:</p> <ol> <li>\u2611\ufe0f Power chain (20 min):</li> <li>Battery \u2192 TP4056 charger</li> <li>TP4056 \u2192 AMS1117 regulator</li> <li> <p>AMS1117 \u2192 ESP32 3.3V</p> </li> <li> <p>\u2611\ufe0f Toggle switch (10 min):</p> </li> <li>COM terminal \u2192 ESP32 GPIO2</li> <li> <p>NO terminal \u2192 GND</p> </li> <li> <p>\u2611\ufe0f LED strip (20 min):</p> </li> <li>Cut to 8 LEDs</li> <li>Solder wires: +5V, DIN, GND</li> <li> <p>Connect to ESP32</p> </li> <li> <p>\u2611\ufe0f Test continuity (10 min):</p> </li> <li>All grounds connected</li> <li>No shorts</li> <li>Voltage readings correct</li> </ol> <p>Detailed instructions: Soldering Guide</p>"},{"location":"getting-started/quick-start/#step-4-flash-firmware-15-minutes","title":"Step 4: Flash Firmware (15 minutes)","text":"<p>Connect ESP32 via USB-C to computer:</p> <pre><code># Navigate to firmware directory\ncd firmware/\n\n# Build and flash (opens monitor automatically via espflash)\ncargo run --release\n\n# Only monitor serial output (if already flashed)\nespflash monitor\n</code></pre> <p>Expected output: <pre><code>Connecting to WiFi...\nConnected! IP: 192.168.1.100\nStarting main loop...\nDevice ready.\n</code></pre></p> <p>Troubleshooting: Firmware Installation Guide</p>"},{"location":"getting-started/quick-start/#step-5-configure-wifi-5-minutes","title":"Step 5: Configure WiFi (5 minutes)","text":"<p>Two methods:</p>"},{"location":"getting-started/quick-start/#method-a-configuration-portal-easiest","title":"Method A: Configuration Portal (Easiest)","text":"<ol> <li>Long press toggle switch (3 seconds)</li> <li>Connect to WiFi network: <code>WallClockIn_XXXXXX</code></li> <li>Browser opens automatically to http://192.168.4.1</li> <li>Enter your WiFi credentials and API endpoint</li> <li>Save - device restarts and connects</li> </ol>"},{"location":"getting-started/quick-start/#method-b-hard-code-in-firmware","title":"Method B: Hard-code in firmware","text":"<p>Edit <code>firmware/src/config.rs</code>: <pre><code>pub const WIFI_SSID: &amp;str = \"YourNetworkName\";\npub const WIFI_PASSWORD: &amp;str = \"YourPassword\";\npub const API_ENDPOINT: &amp;str = \"https://your-api.com\";\npub const API_TOKEN: &amp;str = \"your_bearer_token\";\n</code></pre></p> <p>Re-upload firmware.</p> <p>Detailed instructions: Configuration Guide</p>"},{"location":"getting-started/quick-start/#step-6-test-verify-10-minutes","title":"Step 6: Test &amp; Verify (10 minutes)","text":"<p>Test checklist:</p> <ol> <li>\u2611\ufe0f Power on - Blue LED pulses (connecting)</li> <li>\u2611\ufe0f WiFi connects - LED turns red (idle)</li> <li>\u2611\ufe0f Toggle down - LED turns green, API called</li> <li>\u2611\ufe0f Toggle up - LED turns red, API called</li> <li>\u2611\ufe0f Energy meter - LEDs 2-8 show work duration</li> <li>\u2611\ufe0f Battery - Disconnect USB, still works</li> </ol> <p>If any step fails: Check the component specifications and wiring connections in the Hardware Guide.</p>"},{"location":"getting-started/quick-start/#step-7-enclosure-30-60-minutes","title":"Step 7: Enclosure (30-60 minutes)","text":"<p>Option A: 3D Print (if you have access to printer): - Files in <code>/hardware/enclosure/</code> - Print time: 5-6 hours - Material: CHF 5 of PLA - FabLab EPFL has 3D printers!</p> <p>Option B: Project Box: - Buy from Conrad or Brack (CHF 10) - Drill holes for switch, USB, LEDs - Time: 30 minutes</p> <p>Option C: Laser Cut Acrylic: - Files in <code>/hardware/enclosure/</code> - FabLab EPFL has laser cutter! - Material: CHF 8 of 3mm acrylic - Cut time: 15 minutes</p> <p>Assembly: 1. Mount ESP32 with standoffs 2. Mount switch in front panel 3. Position LED strip at top 4. Secure battery with double-sided tape 5. Close enclosure</p> <p>Detailed instructions: Enclosure Assembly</p>"},{"location":"getting-started/quick-start/#step-8-final-checks","title":"Step 8: Final Checks","text":"<p>Daily use: - Toggle DOWN = Clock in (start work) - Toggle UP = Clock out (stop work) - LEDs = Energy meter shows hours worked - Battery = Should last roughly 10-14 days per charge</p> <p>Next steps: - Usage Guide - Configuration Guide</p>"},{"location":"getting-started/quick-start/#estimated-costs","title":"Estimated Costs","text":""},{"location":"getting-started/quick-start/#budget-build-chf-40-4-weeks","title":"Budget Build (CHF 40, 4 weeks)","text":"Item Source Price ESP32-C3 kit AliExpress CHF 15 LiPo + charger AliExpress CHF 10 Components AliExpress CHF 8 Enclosure DIY/3D print CHF 5 Total CHF 38 Time 3-4 weeks"},{"location":"getting-started/quick-start/#standard-build-chf-90-3-days","title":"Standard Build (CHF 90, 3 days)","text":"Item Source Price ESP32-C3 Digitec CHF 15 LEDs Digitec CHF 12 Battery Digitec CHF 18 Components Conrad CHF 30 Enclosure Conrad/Print CHF 10 USB cable Digitec CHF 5 Total CHF 90 Time 2-3 days"},{"location":"getting-started/quick-start/#premium-build-chf-150-same-day","title":"Premium Build (CHF 150, same day)","text":"Item Source Price Quality components Adafruit imports CHF 100 Professional tools Conrad CHF 30 Custom enclosure Laser cut acrylic CHF 20 Total CHF 150 Time Same day at FabLab <p>Note: Tool costs are one-time investment, reusable for all future projects!</p>"},{"location":"getting-started/quick-start/#skill-requirements","title":"Skill Requirements","text":""},{"location":"getting-started/quick-start/#minimum-requirements","title":"Minimum Requirements","text":"<p>You can do this if you: - \u2705 Can use a soldering iron (or willing to learn - 30 min) - \u2705 Can copy/paste commands in terminal - \u2705 Can edit text files - \u2705 Have patience for troubleshooting</p> <p>No experience needed: - \u274c Programming (firmware is ready) - \u274c Electronics theory (guide explains everything) - \u274c 3D modeling (files provided)</p>"},{"location":"getting-started/quick-start/#learning-curve","title":"Learning Curve","text":"<pre><code>Hour 0-1:   Steep (first time soldering)\n            \u2514\u2500 FabLab has instructors!\n\nHour 1-2:   Moderate (assembly)\n            \u2514\u2500 Follow step-by-step guide\n\nHour 2-3:   Easy (programming)\n            \u2514\u2500 Copy/paste commands\n\nHour 3+:    Using it! (daily operation)\n            \u2514\u2500 Push button, done!\n</code></pre>"},{"location":"getting-started/quick-start/#common-pitfalls","title":"Common Pitfalls","text":""},{"location":"getting-started/quick-start/#ordering-wrong-components","title":"\u274c Ordering Wrong Components","text":"<p>Problem: \"I bought ESP8266, not ESP32-C3\"</p> <p>Prevention: - Use exact model numbers from BOM - Check pinout matches guide - When in doubt, ask in Discussions</p> <p>Solution: - Return and reorder (Switzerland has good return policies!) - Or adapt firmware (advanced)</p>"},{"location":"getting-started/quick-start/#soldering-shorts","title":"\u274c Soldering Shorts","text":"<p>Problem: \"Device won't turn on, gets hot\"</p> <p>Prevention: - Test with multimeter after each connection - Use proper amount of solder - Check for bridges with magnifying glass</p> <p>Solution: - Find short with multimeter continuity - Desolder and redo joint - Visit FabLab for help</p>"},{"location":"getting-started/quick-start/#wifi-wont-connect","title":"\u274c WiFi Won't Connect","text":"<p>Problem: \"Blue LED keeps pulsing\"</p> <p>Prevention: - Double-check SSID (case sensitive!) - Ensure 2.4GHz network (not 5GHz) - Check WiFi password carefully</p> <p>Solution: - Long press to enter config portal - Reconfigure credentials - Check Configuration Guide</p>"},{"location":"getting-started/quick-start/#api-calls-fail","title":"\u274c API Calls Fail","text":"<p>Problem: \"Yellow LED flashing\"</p> <p>Prevention: - Verify API endpoint URL (https://) - Test API with curl first - Check authentication token</p> <p>Solution: - Monitor serial output for errors - Test API endpoint manually - Check API Integration Guide</p>"},{"location":"getting-started/quick-start/#time-investment","title":"Time Investment","text":""},{"location":"getting-started/quick-start/#first-build","title":"First Build","text":"Phase Time Can Skip? Planning 30 min No Ordering 30 min No Waiting for parts 2-3 days No Reading docs 1 hour Partially Soldering 90 min No Programming 30 min No Testing 30 min No Enclosure 60 min Yes (temp) Troubleshooting 0-120 min Hopefully! Total active 5-7 hours Total calendar 3-4 days"},{"location":"getting-started/quick-start/#second-build-experience","title":"Second Build (Experience)","text":"<p>With experience, you can build in 2 hours:</p> <ul> <li>Soldering: 45 min (know what you're doing)</li> <li>Programming: 10 min (reuse config)</li> <li>Testing: 15 min (know what to check)</li> <li>Enclosure: 30 min (have process down)</li> </ul>"},{"location":"getting-started/quick-start/#help-resources","title":"Help &amp; Resources","text":""},{"location":"getting-started/quick-start/#lausanne-local-resources","title":"\ud83c\udde8\ud83c\udded Lausanne Local Resources","text":"<p>FabLab EPFL: - Address: B\u00e2timent MX, EPFL Campus - Tools: Free (EPFL) or small fee - Help: Experienced makers available - Website: EPFL FabLab (check EPFL website for current information)</p> <p>Electrolab Renens: - Address: Near Lausanne - Hackerspace with electronics - Community: Friendly, helpful</p> <p>Conrad Electronics Geneva: - 40 min from Lausanne - In-person component shopping - Staff can help with questions</p>"},{"location":"getting-started/quick-start/#online-resources","title":"Online Resources","text":"<p>This Documentation: - Hardware Guide - Assembly Guide - Firmware Guide</p> <p>Community: - GitHub Discussions - Issues</p> <p>General Learning: - SparkFun Soldering Tutorial - Adafruit NeoPixel Guide  - Rust on ESP-IDF (esp-idf)</p>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<p>Ready to start?</p> <ol> <li>Read full documentation:</li> <li>Hardware Overview</li> <li>Bill of Materials</li> <li> <p>Soldering Guide</p> </li> <li> <p>Order components:</p> </li> <li>Use shopping list for Lausanne</li> <li> <p>2-3 day delivery from Swiss suppliers</p> </li> <li> <p>Prepare tools:</p> </li> <li>Visit FabLab EPFL</li> <li> <p>Or buy basic soldering kit</p> </li> <li> <p>Build:</p> </li> <li>Follow the guides step-by-step.</li> <li>If you get stuck, check the Configuration Guide or open an issue on GitHub.</li> </ol>"},{"location":"getting-started/timeline/","title":"Project Timeline","text":"<p>This guide provides a realistic timeline for building your Wall Clock In Machine from start to finish, customized for Lausanne residents.</p>"},{"location":"getting-started/timeline/#overview","title":"Overview","text":"<p>Total time from decision to working device: 2-4 weeks (depending on part availability and your experience level)</p>"},{"location":"getting-started/timeline/#phase-1-planning-ordering-days-1-3","title":"Phase 1: Planning &amp; Ordering (Days 1-3)","text":""},{"location":"getting-started/timeline/#day-1-review-decide","title":"Day 1: Review &amp; Decide","text":"<ul> <li> Read through the Overview and Quick Start guides</li> <li> Review the Bill of Materials</li> <li> Decide on budget tier (CHF 40-150)</li> <li> Check if you have FabLab EPFL access (students/staff)</li> </ul> <p>Time Required: 1-2 hours</p>"},{"location":"getting-started/timeline/#days-2-3-order-components","title":"Days 2-3: Order Components","text":"<ul> <li> Order electronics from Digitec/Conrad or AliExpress</li> <li> Check FabLab EPFL tool availability for soldering</li> <li> Optional: Order custom enclosure parts or prepare for 3D printing</li> </ul> <p>Time Required: 2-3 hours</p> <p>Expected Delivery: - Digitec/Conrad: 1-3 business days - AliExpress: 2-4 weeks (budget option) - Local pickup (Play Zone, Conrad): Same day</p>"},{"location":"getting-started/timeline/#phase-2-learning-preparation-days-4-10","title":"Phase 2: Learning &amp; Preparation (Days 4-10)","text":""},{"location":"getting-started/timeline/#while-waiting-for-parts","title":"While Waiting for Parts","text":"<ul> <li> Read Firmware Overview and Architecture</li> <li> Study Wiring Diagram</li> <li> Watch soldering tutorials if you're a beginner</li> <li> Set up Rust toolchain and espflash</li> <li> Clone the firmware repository</li> <li> Test API connectivity (set up backend API first)</li> </ul> <p>Time Required: 4-8 hours spread over a week</p> <p>Learning Resources: - Rust on ESP-IDF book - smart-leds patterns and examples - esp-idf-svc WiFi/HTTP examples - FabLab EPFL workshops (check their schedule)</p>"},{"location":"getting-started/timeline/#phase-3-assembly-days-11-14","title":"Phase 3: Assembly (Days 11-14)","text":""},{"location":"getting-started/timeline/#initial-setup-day-11","title":"Initial Setup (Day 11)","text":"<ul> <li> Inventory all received components</li> <li> Test ESP32 with USB-C connection</li> <li> Flash test firmware (LED blink)</li> <li> Reserve FabLab EPFL time slot</li> </ul> <p>Time Required: 1-2 hours</p>"},{"location":"getting-started/timeline/#breadboard-prototype-days-12-13","title":"Breadboard Prototype (Days 12-13)","text":"<ul> <li> Follow Breadboard Prototype guide</li> <li> Connect all components without soldering</li> <li> Test button functionality</li> <li> Test LED animations</li> <li> Test WiFi connection and API calls</li> </ul> <p>Time Required: 3-5 hours</p>"},{"location":"getting-started/timeline/#soldering-day-14","title":"Soldering (Day 14)","text":"<ul> <li> Book FabLab EPFL soldering station</li> <li> Follow Soldering Guide</li> <li> Solder all connections</li> <li> Test each connection with multimeter</li> <li> Clean flux residue</li> </ul> <p>Time Required: 3-4 hours (first time), 1-2 hours (experienced)</p> <p>Note: FabLab staff can help with soldering if you're new!</p>"},{"location":"getting-started/timeline/#phase-4-integration-testing-days-15-17","title":"Phase 4: Integration &amp; Testing (Days 15-17)","text":""},{"location":"getting-started/timeline/#firmware-configuration-day-15","title":"Firmware Configuration (Day 15)","text":"<ul> <li> Follow Installation guide</li> <li> Configure WiFi credentials via captive portal</li> <li> Set API endpoint URL</li> <li> Test button state transitions</li> <li> Verify LED energy meter animation</li> </ul> <p>Time Required: 2-3 hours</p>"},{"location":"getting-started/timeline/#enclosure-assembly-days-16-17","title":"Enclosure Assembly (Days 16-17)","text":"<ul> <li> Follow Enclosure Assembly guide</li> <li> Mount PCB/breadboard inside enclosure</li> <li> Install button and LED strip</li> <li> Secure battery</li> <li> Add rubber feet or mounting hardware</li> </ul> <p>Time Required: 2-4 hours</p>"},{"location":"getting-started/timeline/#final-testing-day-17","title":"Final Testing (Day 17)","text":"<ul> <li> Follow Final Testing checklist</li> <li> Test full work session cycle</li> <li> Verify battery charging</li> <li> Check LED indicators in various lighting conditions</li> <li> Stress test API connectivity</li> </ul> <p>Time Required: 2 hours</p>"},{"location":"getting-started/timeline/#phase-5-deployment-customization-days-18-21","title":"Phase 5: Deployment &amp; Customization (Days 18-21)","text":""},{"location":"getting-started/timeline/#desk-deployment-day-18","title":"Desk Deployment (Day 18)","text":"<ul> <li> Choose desk location (near desk edge, visible LEDs)</li> <li> Install mounting hardware if needed</li> <li> Connect USB-C charger cable</li> <li> Perform first \"real\" work session</li> </ul> <p>Time Required: 30 minutes</p>"},{"location":"getting-started/timeline/#fine-tuning-days-19-21","title":"Fine-Tuning (Days 19-21)","text":"<ul> <li> Adjust LED brightness for your environment</li> <li> Customize LED colors/animations</li> <li> Configure sleep/wake behavior</li> <li> Set button debounce timing if needed</li> <li> Optimize API retry intervals</li> </ul> <p>Time Required: 2-3 hours spread over several days</p>"},{"location":"getting-started/timeline/#timeline-by-experience-level","title":"Timeline by Experience Level","text":""},{"location":"getting-started/timeline/#beginner-no-electronics-experience","title":"Beginner (No Electronics Experience)","text":"<ul> <li>Planning: 3 days</li> <li>Learning: 1 week</li> <li>Assembly: 2-3 days</li> <li>Testing: 2 days</li> <li>Total: 3-4 weeks</li> </ul> <p>Recommendations: - Attend FabLab EPFL introduction workshop - Ask for help during soldering - Take your time with breadboard testing - Don't skip the learning phase!</p>"},{"location":"getting-started/timeline/#intermediate-some-embeddedrust-experience","title":"Intermediate (Some Embedded/Rust Experience)","text":"<ul> <li>Planning: 1-2 days</li> <li>Learning: 2-3 days</li> <li>Assembly: 1 day</li> <li>Testing: 1 day</li> <li>Total: 1-2 weeks</li> </ul> <p>Recommendations: - Use fast delivery options (Digitec Premium) - Solder directly after breadboard verification - Customize firmware early</p>"},{"location":"getting-started/timeline/#advanced-electronics-firmware-experience","title":"Advanced (Electronics &amp; Firmware Experience)","text":"<ul> <li>Planning: 1 day</li> <li>Learning: Parallel with assembly</li> <li>Assembly: 4-6 hours (same day)</li> <li>Testing: 2 hours</li> <li>Total: 1 week (mostly waiting for parts)</li> </ul> <p>Recommendations: - Order premium components from local stores - Consider custom PCB design - Add advanced features (haptic feedback, OLED display, etc.)</p>"},{"location":"getting-started/timeline/#parallel-activities","title":"Parallel Activities","text":"<p>These can be done simultaneously to save time:</p> <pre><code>gantt\n    title Wall Clock In Machine Build Timeline\n    dateFormat YYYY-MM-DD\n    section Preparation\n    Order Parts           :a1, 2024-01-01, 1d\n    Learning             :a2, 2024-01-02, 7d\n    Parts Delivery       :milestone, m1, 2024-01-08, 0d\n    section Assembly\n    Breadboard Test      :a3, 2024-01-08, 2d\n    Soldering           :a4, 2024-01-10, 1d\n    section Integration\n    Firmware Setup      :a5, 2024-01-11, 1d\n    Enclosure          :a6, 2024-01-12, 1d\n    Testing            :a7, 2024-01-13, 1d\n    section Deployment\n    Go Live            :milestone, m2, 2024-01-14, 0d</code></pre>"},{"location":"getting-started/timeline/#contingency-planning","title":"Contingency Planning","text":""},{"location":"getting-started/timeline/#budget-extra-time-for","title":"Budget Extra Time For:","text":"<ul> <li>Component Delays: +1-2 weeks for international shipping</li> <li>Learning Curve: +3-5 days if you're new to soldering</li> <li>Troubleshooting: +1-2 days for debugging issues</li> <li>Rework: +2-3 days if you need to re-solder connections</li> </ul>"},{"location":"getting-started/timeline/#common-delays","title":"Common Delays","text":"<ol> <li>Customs: AliExpress orders can get stuck (Swiss customs CHF 62 limit)</li> <li>FabLab Availability: Book in advance during exam periods</li> <li>Part Defects: Order 1-2 spare components (especially buttons)</li> <li>API Backend: Ensure backend is deployed before testing</li> </ol>"},{"location":"getting-started/timeline/#quick-win-1-day-prototype","title":"Quick Win: 1-Day Prototype","text":"<p>If you need a working demo quickly:</p> <p>Morning (3 hours): 1. Buy ESP32, button, and LED strip from Play Zone Lausanne 2. Use breadboard (no soldering) 3. Flash basic firmware</p> <p>Afternoon (3 hours): 1. Test button + LED 2. Connect to WiFi 3. Mock API calls (or use test backend)</p> <p>Result: Functional prototype without enclosure or battery (USB-powered only)</p>"},{"location":"getting-started/timeline/#next-steps","title":"Next Steps","text":"<p>Once you've completed your build:</p> <ol> <li>Read Daily Operation for usage tips</li> <li>Review the documentation for common issues</li> <li>Consider contributing improvements to the project</li> <li>Share your build with the community!</li> </ol>"},{"location":"getting-started/timeline/#support","title":"Support","text":"<ul> <li>FabLab EPFL: Drop-in hours Monday-Friday (check website for schedule)</li> <li>GitHub Issues: Report bugs or ask questions</li> <li>EPFL CS Association: Student tech community</li> <li>Electronics Discord: Swiss electronics community</li> </ul> <p>Questions? Check the documentation or open an issue on GitHub!</p>"},{"location":"hardware/bill-of-materials/","title":"Bill of Materials (BOM) - Switzerland Edition \ud83c\udde8\ud83c\udded","text":"<p>Total Cost: ~CHF 90-100 (Swiss suppliers) | Build Time: 2-3 hours | Skill Level: Beginner-Intermediate</p> <p>Complete shopping list for building the Wall Clock In Machine, optimized for Switzerland with Swiss suppliers, CHF pricing, and all components needed for testing and development.</p>"},{"location":"hardware/bill-of-materials/#quick-shopping-strategy","title":"Quick Shopping Strategy","text":""},{"location":"hardware/bill-of-materials/#option-1-fast-build-1-3-days-chf-90-100","title":"Option 1: Fast Build (1-3 days, CHF 90-100)","text":"<ul> <li>Digitec Galaxus + Conrad.ch (online)</li> <li>Professional components, fast delivery</li> <li>Free shipping over CHF 50</li> </ul>"},{"location":"hardware/bill-of-materials/#option-2-budget-build-3-4-weeks-chf-45-50","title":"Option 2: Budget Build (3-4 weeks, CHF 45-50)","text":"<ul> <li>Order from China (AliExpress/eBay) - single order to minimize customs</li> <li>Split orders to stay under CHF 62 limit</li> </ul>"},{"location":"hardware/bill-of-materials/#option-3-premium-build-1-2-days-chf-150","title":"Option 3: Premium Build (1-2 days, CHF 150)","text":"<ul> <li>FabLab EPFL + Digitec (in-person)</li> <li>Workshop access + professional components</li> <li>Community support included</li> </ul>"},{"location":"hardware/bill-of-materials/#core-components","title":"Core Components","text":""},{"location":"hardware/bill-of-materials/#1-microcontroller","title":"1. Microcontroller","text":"Item Specs Qty Price (CHF) Suppliers ESP32-C6-DevKitC-1 RISC-V, WiFi 6, USB-C 1 CHF 12-18 Digitec | Conrad | Distrelec <p>Where to Buy: - Digitec Galaxus: CHF 15-18, free shipping over CHF 50, 1-2 day delivery - digitec.ch - Conrad.ch: CHF 14-16, free shipping over CHF 50, 2-3 day delivery - conrad.ch - Distrelec: CHF 16-20, professional components, 1-2 day delivery - distrelec.ch - Play Zone (Lausanne, Centre Flon): In-store pickup - playzone.ch</p> <p>What to Look For: - \u2705 USB-C connector (NOT micro-USB) - \u2705 On-board antenna - \u2705 CH340 or CP2102 USB chip (or native USB) - \u2705 Pin headers included or pre-soldered</p>"},{"location":"hardware/bill-of-materials/#2-led-strip","title":"2. LED Strip","text":"Item Specs Qty Price (CHF) Suppliers WS2812B LED Strip Addressable RGB, 60 LEDs/m 8 LEDs (buy 1m strip) CHF 8-15 Digitec | Conrad <p>Where to Buy: - Digitec Galaxus: CHF 12-15 for 1m strip - digitec.ch - Conrad.ch: CHF 10-12 for 1m strip - conrad.ch</p> <p>What to Buy: - Buy a 1-meter strip (60 LEDs) and cut to 8 LEDs - Waterproof (IP65) or non-waterproof (IP20) - both work - Black PCB preferred (looks better) - 5V version (NOT 12V)</p> <p>Cutting Guide: LEDs have cut marks every 3 LEDs. Cut after 8<sup>th</sup> LED, save rest for future projects!</p>"},{"location":"hardware/bill-of-materials/#3-buttonswitch","title":"3. Button/Switch","text":"Item Specs Qty Price (CHF) Suppliers Toggle Switch SPDT 12mm panel mount, metal 1 CHF 5-8 Conrad | Distrelec <p>Where to Buy: - Conrad.ch: CHF 6-8, quality switches - conrad.ch - Distrelec: CHF 5-7, professional grade - distrelec.ch</p> <p>What to Look For: - \u2705 SPDT (Single Pole Double Throw) - 3 terminals - \u2705 12mm mounting hole diameter - \u2705 Metal construction (feels premium) - \u2705 ON-ON type (maintained position)</p> <p>Alternative: Illuminated toggle switch - costs CHF 8-12</p>"},{"location":"hardware/bill-of-materials/#4-battery","title":"4. Battery","text":"Item Specs Qty Price (CHF) Suppliers LiPo Battery 3.7V, 2000mAh, JST connector 1 CHF 15-25 Digitec | Conrad <p>Where to Buy: - Digitec Galaxus: CHF 18-22, quality batteries with protection - digitec.ch - Conrad.ch: CHF 20-25, professional components - conrad.ch</p> <p>What to Look For: - \u2705 2000-2500 mAh capacity - \u2705 JST-PH 2.0mm connector (red/black wires) - \u2705 Protection circuit (PCB on battery) - \u2705 Dimensions fit your enclosure (~50\u00d730\u00d710mm) - \u26a0\ufe0f Buy from reputable seller - safety matters!</p> <p>Safety Note: LiPo batteries can be dangerous if damaged. Handle with care, don't puncture!</p>"},{"location":"hardware/bill-of-materials/#5-battery-charger","title":"5. Battery Charger","text":"Item Specs Qty Price (CHF) Suppliers TP4056 Charger Module USB-C, 1A charge, protection 1 CHF 3-8 Conrad | Distrelec <p>Where to Buy: - Conrad.ch: CHF 6-8, quality modules - conrad.ch - Distrelec: CHF 5-7 - distrelec.ch</p> <p>What to Look For: - \u2705 USB-C input (NOT micro-USB) - \u2705 Protection features (DW01A chip visible) - \u2705 Red/Blue indicator LEDs - \u2705 Small form factor (~26\u00d717mm)</p>"},{"location":"hardware/bill-of-materials/#6-voltage-regulator","title":"6. Voltage Regulator","text":"Item Specs Qty Price (CHF) Suppliers AMS1117-3.3 Module LDO regulator, 3.3V output 1 CHF 3-5 Conrad | Distrelec <p>Where to Buy: - Conrad.ch: CHF 3-4 - conrad.ch - Distrelec: CHF 4-5 - distrelec.ch</p> <p>What to Look For: - \u2705 3.3V output - \u2705 500mA+ current rating - \u2705 Pre-built module (easier than bare IC) - \u2705 Screw terminals or pin headers</p>"},{"location":"hardware/bill-of-materials/#7-usb-c-connector","title":"7. USB-C Connector","text":"Item Specs Qty Price (CHF) Suppliers USB-C Panel Mount Female, with cable/PCB 1 CHF 5-8 Conrad | Digitec <p>Where to Buy: - Conrad.ch: CHF 6-8 - conrad.ch - Digitec: CHF 5-7 - digitec.ch</p> <p>What to Look For: - \u2705 Female connector (male USB-C cable plugs into it) - \u2705 Mounting holes or nut for panel - \u2705 ~20cm cable attached (easier to wire) - \u2705 Power-only (don't need data pins)</p>"},{"location":"hardware/bill-of-materials/#electronic-components","title":"Electronic Components","text":""},{"location":"hardware/bill-of-materials/#passive-components-kit","title":"Passive Components Kit","text":"Item Specs Qty Price (CHF) Suppliers Capacitor Kit 0.1\u00b5F, 10\u00b5F, 100\u00b5F variety 1 kit CHF 8-12 Conrad | Distrelec Resistor Kit \u00bcW, assorted values 1 kit CHF 8-12 Conrad | Distrelec <p>Where to Buy: - Conrad.ch: CHF 8-10 per kit, comprehensive assortment - conrad.ch - Distrelec: CHF 10-12 per kit, professional grade - distrelec.ch</p> <p>Individual Components Needed:</p> Component Value Qty Purpose Electrolytic Capacitor 100\u00b5F, 16V 2 Power smoothing Ceramic Capacitor 10\u00b5F, 16V 2 Bypass caps Ceramic Capacitor 0.1\u00b5F 4 Decoupling Resistor 10k\u03a9 2 Pull-up Resistor 330\u03a9 1 LED limiter Diode 1N4148 1 Reverse protection <p>\ud83d\udca1 Tip: Buy a variety kit if this is your first electronics project. You'll use them in future projects!</p> <p>Lausanne Tip: Conrad.ch has a physical store in Geneva (30 min from Lausanne) - you can pick up components same day!</p>"},{"location":"hardware/bill-of-materials/#wiring-connectors","title":"Wiring &amp; Connectors","text":"Item Specs Qty Price (CHF) Suppliers Silicone Wire 24 AWG, red+black 2m each CHF 8-12 Conrad | Distrelec JST Connectors 2-pin, 2.0mm pitch 5 pairs CHF 5-8 Conrad | Distrelec Heat Shrink Tubing Assorted sizes 1 kit CHF 6-10 Conrad | Jumbo Jumper Wires Male-to-female, 20cm 20 CHF 5-8 Conrad | Digitec <p>Where to Buy: - Conrad.ch: Best selection, CHF 8-12 per item - conrad.ch - Distrelec: Professional grade, CHF 10-15 per item - distrelec.ch - Local Hardware Stores (Jumbo, Brico+Loisirs): Basic wire, CHF 5-8</p>"},{"location":"hardware/bill-of-materials/#testing-prototyping-components","title":"Testing &amp; Prototyping Components","text":"<p>Important for Development</p> <p>These components are essential for testing and prototyping before final assembly. Don't skip these!</p>"},{"location":"hardware/bill-of-materials/#breadboard-prototyping","title":"Breadboard &amp; Prototyping","text":"Item Specs Qty Price (CHF) Purpose Breadboard 400/830 tie points 1 CHF 8-12 Prototyping before soldering Jumper Wires Male-to-male, 10cm 40 CHF 5-8 Breadboard connections Jumper Wires Male-to-female, 20cm 20 CHF 5-8 ESP32 to breadboard Breadboard Power Supply 5V/3.3V module (optional) 1 CHF 8-12 Clean power for testing <p>Where to Buy: - Conrad.ch: CHF 8-12 breadboard, CHF 5-8 jumper wire sets - conrad.ch - Digitec: CHF 10-15 breadboard kits - digitec.ch</p> <p>Why Needed:  - Test all connections before soldering - Verify firmware works correctly - Debug issues without desoldering - See Breadboard Prototype Guide</p>"},{"location":"hardware/bill-of-materials/#extra-components-for-testing","title":"Extra Components for Testing","text":"Item Specs Qty Price (CHF) Purpose Extra Resistors 330\u03a9, 10k\u03a9 5 each CHF 2-3 Testing LED/data lines Extra Capacitors 100\u00b5F, 0.1\u00b5F 5 each CHF 3-5 Power supply testing Extra JST Connectors 2-pin, 2.0mm 3 pairs CHF 3-5 Test battery connections Test Points/Headers Male pin headers 1 strip CHF 2-3 Add test points to PCB <p>Why Needed: - Components can get damaged during testing - Need spares for breadboard vs final build - Allows experimentation without cannibalizing final build</p>"},{"location":"hardware/bill-of-materials/#enclosure","title":"Enclosure","text":""},{"location":"hardware/bill-of-materials/#option-1-3d-printed-recommended","title":"Option 1: 3D Printed (Recommended)","text":"Item Material Cost (CHF) Options 3D Print Service PLA filament CHF 15-25 Shapeways | Craftcloud Or Print Yourself PLA roll, 1kg CHF 25-35 Digitec | Conrad <p>Files Provided: STL files in <code>hardware/enclosure/</code> directory</p> <p>Print Settings: - Layer Height: 0.2mm - Infill: 20% - Supports: Yes (for overhang areas) - Material: PLA or PETG</p> <p>Lausanne Option: FabLab EPFL - Use their 3D printers for free (with EPFL access) or small membership fee! - Location: EPFL Campus, B\u00e2timent MX - Website: fablab.epfl.ch - Cost: Free for students/staff, CHF 50/year for community members</p>"},{"location":"hardware/bill-of-materials/#option-2-pre-made-enclosure","title":"Option 2: Pre-Made Enclosure","text":"Item Specs Cost (CHF) Suppliers Project Box 100\u00d760\u00d735mm ABS CHF 8-12 Conrad | Distrelec <p>Modifications Needed: - Drill holes for toggle switch (12mm) - Cut slot for USB-C connector - Cut window for LED strip</p> <p>Local Hardware Stores (Lausanne area): - Jumbo (multiple locations): Basic project boxes, CHF 5-8 - Brico+Loisirs (multiple locations): ABS boxes, CHF 8-12</p>"},{"location":"hardware/bill-of-materials/#hardware-fasteners","title":"Hardware &amp; Fasteners","text":"Item Specs Qty Cost (CHF) Suppliers M3 Screws 8mm length 8 CHF 2-3 Conrad/Distrelec M3 Hex Nuts Standard 8 CHF 2-3 Conrad/Distrelec M3 Standoffs 10mm height 4 CHF 4-6 Conrad/Distrelec Rubber Feet Self-adhesive, 10mm 4 CHF 3-5 Conrad/Jumbo <p>Conrad Kit: CHF 8-12 for complete M3 assortment kit</p> <p>Local Option: Jumbo or Brico+Loisirs have basic screws/nuts, CHF 2-5</p>"},{"location":"hardware/bill-of-materials/#tools-required","title":"Tools Required","text":""},{"location":"hardware/bill-of-materials/#essential-tools-must-have","title":"Essential Tools (Must Have)","text":"Tool Approximate Cost (CHF) Suppliers Soldering Iron CHF 25-80 Conrad | Digitec Solder CHF 8-12 Conrad | Jumbo Wire Strippers CHF 12-20 Conrad | Jumbo Screwdriver Set CHF 10-15 Conrad | Jumbo Multimeter CHF 20-40 Digitec | Conrad USB-C Cable CHF 5-10 Digitec | Conrad <p>Total Tool Cost: ~CHF 80-150 (one-time investment, use for many projects!)</p> <p>Lausanne Tip: FabLab EPFL has all tools available for free (with EPFL access) or small membership fee!</p>"},{"location":"hardware/bill-of-materials/#nice-to-have-for-testing-development","title":"Nice to Have (for Testing &amp; Development)","text":"Tool Purpose Cost (CHF) Suppliers Helping Hands Hold PCBs while soldering CHF 12-18 Conrad Hot Glue Gun Strain relief, mounting CHF 10-15 Jumbo/Brico+Loisirs Flush Cutters Clean wire cuts CHF 8-12 Conrad Tweezers Handle small parts CHF 5-8 Conrad Desoldering Pump Fix mistakes CHF 8-12 Conrad Solder Wick Remove solder CHF 3-5 Conrad Magnifying Glass See tiny components CHF 15-25 Conrad Heat Gun Heat shrink tubing CHF 15-30 Conrad/Jumbo"},{"location":"hardware/bill-of-materials/#software-free","title":"Software (Free!)","text":"Software Purpose Links Rust toolchain (rustup) Build firmware rustup.rs espflash Flash firmware &amp; monitor serial esp-rs/espflash VS Code Code editing code.visualstudio.com Fusion 360 3D design (optional) autodesk.com"},{"location":"hardware/bill-of-materials/#complete-shopping-list","title":"Complete Shopping List","text":""},{"location":"hardware/bill-of-materials/#quick-copy-paste-list-for-swiss-suppliers","title":"Quick Copy-Paste List for Swiss Suppliers","text":"<p>Core Components: <pre><code>- ESP32-C6 DevKitC-1 development board\n- WS2812B LED strip (1 meter, 60 LEDs)\n- 12mm SPDT toggle switch (metal, panel mount)\n- 3.7V 2000mAh LiPo battery with JST-PH 2.0mm connector\n- TP4056 USB-C charger module (with protection)\n- AMS1117-3.3V voltage regulator module\n- USB-C panel mount connector (female, with cable)\n</code></pre></p> <p>Components &amp; Wiring: <pre><code>- Capacitor assortment kit (includes 0.1\u00b5F, 10\u00b5F, 100\u00b5F)\n- Resistor assortment kit (includes 330\u03a9, 10k\u03a9, etc.)\n- 24 AWG silicone wire (red and black, 2m each)\n- JST-PH 2.0mm connector kit (male + female pairs)\n- Heat shrink tubing assortment\n- Male pin headers (for breadboard/ESP32)\n</code></pre></p> <p>Testing &amp; Prototyping: <pre><code>- Breadboard (400 or 830 tie points)\n- Jumper wire kit (male-to-male, male-to-female)\n- Extra resistors (330\u03a9, 10k\u03a9) - 5 each\n- Extra capacitors (100\u00b5F, 0.1\u00b5F) - 5 each\n- Extra JST connectors (3 pairs)\n</code></pre></p> <p>Hardware &amp; Enclosure: <pre><code>- M3 screw/nut/standoff kit\n- Rubber feet (4 pack, self-adhesive)\n- Project box (100\u00d760\u00d735mm) OR 3D print enclosure\n</code></pre></p> <p>Tools (if you don't have): <pre><code>- Soldering iron kit (30W+, temperature controlled)\n- Lead-free solder (0.8mm diameter)\n- Wire strippers\n- Flush cutters\n- Multimeter (digital, basic)\n- USB-C cable (for programming)\n- Screwdriver set (PH0/PH1)\n</code></pre></p>"},{"location":"hardware/bill-of-materials/#swiss-suppliers-directory","title":"Swiss Suppliers Directory","text":""},{"location":"hardware/bill-of-materials/#primary-suppliers-recommended","title":"Primary Suppliers (Recommended)","text":""},{"location":"hardware/bill-of-materials/#digitec-galaxus","title":"Digitec Galaxus","text":"<ul> <li>Website: digitec.ch</li> <li>Delivery: 1-2 days (free over CHF 50)</li> <li>Strengths: ESP32 boards, LED strips, batteries, tools</li> </ul>"},{"location":"hardware/bill-of-materials/#conradch","title":"Conrad.ch","text":"<ul> <li>Website: conrad.ch</li> <li>Delivery: 2-3 days (free over CHF 50)</li> <li>Strengths: Complete electronics catalog, passive components, tools</li> <li>Physical Store: Geneva (30 min from Lausanne) - Store Finder</li> </ul>"},{"location":"hardware/bill-of-materials/#distrelec","title":"Distrelec","text":"<ul> <li>Website: distrelec.ch</li> <li>Delivery: 1-2 days (free over CHF 50)</li> <li>Strengths: Professional components, industrial grade</li> </ul>"},{"location":"hardware/bill-of-materials/#local-stores-lausanne-area","title":"Local Stores (Lausanne Area)","text":""},{"location":"hardware/bill-of-materials/#play-zone-lausanne","title":"Play Zone (Lausanne)","text":"<ul> <li>Location: Centre Flon, Lausanne</li> <li>Website: playzone.ch</li> <li>Specialty: Arduino kits, ESP32 boards, maker components</li> </ul>"},{"location":"hardware/bill-of-materials/#jumbo-multiple-locations","title":"Jumbo (Multiple Locations)","text":"<ul> <li>Locations: Multiple in Lausanne area</li> <li>Website: jumbo.ch</li> <li>Specialty: Basic tools, wire, basic components</li> </ul>"},{"location":"hardware/bill-of-materials/#bricoloisirs-multiple-locations","title":"Brico+Loisirs (Multiple Locations)","text":"<ul> <li>Locations: Multiple in Lausanne area</li> <li>Website: bricorama.ch</li> <li>Specialty: Tools, hardware, basic electronics</li> </ul>"},{"location":"hardware/bill-of-materials/#maker-spaces-lausanne-area","title":"Maker Spaces (Lausanne Area)","text":""},{"location":"hardware/bill-of-materials/#fablab-epfl","title":"FabLab EPFL","text":"<ul> <li>Location: EPFL Campus, B\u00e2timent MX</li> <li>Website: fablab.epfl.ch</li> <li>Tools: 3D printers, soldering stations, laser cutters, milling machines</li> <li>Access: Free for EPFL students/staff, CHF 50/year for community members</li> </ul>"},{"location":"hardware/bill-of-materials/#makerspace-renens","title":"Makerspace Renens","text":"<ul> <li>Location: Renens (15 min from Lausanne)</li> <li>Tools: Full workshop access</li> <li>Community: Meetups and workshops</li> </ul>"},{"location":"hardware/bill-of-materials/#european-suppliers-optional","title":"European Suppliers (Optional)","text":""},{"location":"hardware/bill-of-materials/#reichelt-germany","title":"Reichelt (Germany)","text":"<ul> <li>Website: reichelt.com</li> <li>Shipping: CHF 9, free over CHF 80</li> <li>Delivery: 2-3 days (no customs within EU)</li> </ul>"},{"location":"hardware/bill-of-materials/#swiss-customs-tax-information","title":"Swiss Customs &amp; Tax Information","text":""},{"location":"hardware/bill-of-materials/#import-rules-for-switzerland","title":"Import Rules for Switzerland","text":"<ul> <li>Tax-free limit: CHF 62 (including shipping)</li> <li>VAT rate: 7.7% on (value + shipping)</li> <li>Processing fee: CHF 11.50-18.00 (Swiss Post)</li> <li>Customs declaration: Required for all imports</li> </ul> <p>Example calculation for CHF 80 order from outside EU: <pre><code>Order value:        CHF 80.00\nShipping:          CHF 10.00\nSubtotal:          CHF 90.00\nVAT (7.7%):        CHF  6.93\nProcessing fee:    CHF 18.00\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nTOTAL:             CHF 114.93\n</code></pre></p> <p>Strategy:  - Use Swiss/EU suppliers (Digitec, Conrad, Distrelec, Reichelt) - no customs - Keep individual orders under CHF 62 if ordering from outside EU - Split orders to minimize customs fees</p>"},{"location":"hardware/bill-of-materials/#cost-breakdown-switzerland","title":"Cost Breakdown - Switzerland","text":""},{"location":"hardware/bill-of-materials/#option-1-fast-build-swiss-suppliers","title":"Option 1: Fast Build (Swiss Suppliers)","text":"Component Quantity Price (CHF) Supplier ESP32-C6 DevKitC-1 1 CHF 15 Digitec WS2812B LED Strip (1m) 1 CHF 12 Digitec SPDT Toggle Switch 1 CHF 7 Conrad LiPo Battery 2000mAh 1 CHF 20 Digitec TP4056 Charger Module 1 CHF 7 Conrad AMS1117 Regulator Module 1 CHF 4 Conrad USB-C Panel Connector 1 CHF 7 Conrad Capacitor Kit 1 CHF 9 Conrad Resistor Kit 1 CHF 9 Conrad Wire Kit 1 CHF 10 Conrad JST Connectors 5 pairs CHF 6 Conrad Heat Shrink Tubing 1 kit CHF 7 Conrad Breadboard 1 CHF 10 Conrad Jumper Wires 1 kit CHF 6 Conrad Extra Components 1 set CHF 5 Conrad M3 Hardware Kit 1 CHF 9 Conrad Rubber Feet 4 CHF 4 Conrad Project Box 1 CHF 10 Conrad Subtotal CHF 156 Shipping CHF 0 (Free over CHF 50) TOTAL CHF 156 Delivery 1-3 days"},{"location":"hardware/bill-of-materials/#option-2-budget-build-outside-eu","title":"Option 2: Budget Build (Outside EU)","text":"Component Quantity Price (CHF) Supplier ESP32-C6 DevKitC-1 1 CHF 5 China WS2812B LED Strip (1m) 1 CHF 2 China SPDT Toggle Switch 1 CHF 1 China LiPo Battery 2000mAh 1 CHF 8 China TP4056 Charger Module 1 CHF 2 China AMS1117 Regulator Module 1 CHF 1 China USB-C Panel Connector 1 CHF 2 China Component Kit 1 CHF 4 China Wire &amp; Connectors Kit 1 CHF 5 China Breadboard 1 CHF 3 China Jumper Wires 1 kit CHF 2 China Extra Components 1 set CHF 2 China M3 Hardware Kit 1 CHF 3 China Project Box 1 CHF 5 China Subtotal CHF 45 Shipping CHF 0 (Free shipping) Customs/VAT (if &gt;CHF 62) CHF 0-8 (Stay under CHF 62) TOTAL CHF 45-53 Delivery 3-4 weeks"},{"location":"hardware/bill-of-materials/#estimated-delivery-times","title":"Estimated Delivery Times","text":"Source Delivery Time Shipping Cost Customs Total Time Digitec/Conrad 1-3 days Free over CHF 50 None 1-3 days Distrelec 1-2 days Free over CHF 50 None 1-2 days Reichelt (Germany) 2-3 days CHF 9 (free &gt;CHF 80) None 2-3 days Outside EU 15-30 days Free CHF 0-18 3-4 weeks Local Store Same day - None Same day <ul> <li>For critical components (ESP32, battery), you may prefer local suppliers; passive components can often be sourced more cheaply elsewhere.</li> </ul>"},{"location":"hardware/bill-of-materials/#next-steps","title":"Next Steps","text":"<ol> <li>\u2705 Copy the shopping list above</li> <li>\ud83d\uded2 Order components:</li> <li>Fast: Digitec + Conrad (CHF 90-100, 1-3 days)</li> <li>Budget: Outside EU suppliers (CHF 45-50, 3-4 weeks)</li> <li>\u23f0 While waiting, read the Assembly Guide</li> <li>\ud83d\udcbb Set up development environment (see Firmware Installation)</li> <li>\ud83c\udfa8 Design or print the enclosure (or use FabLab EPFL!)</li> <li>Relax while waiting for parts to arrive.</li> </ol>"},{"location":"hardware/bill-of-materials/#testing-checklist","title":"Testing Checklist","text":"<p>Before final assembly, verify all components work:</p> <ul> <li> ESP32-C6 boots and connects to WiFi</li> <li> Battery charges correctly (LED indicators work)</li> <li> Button press detected reliably</li> <li> All 8 LEDs light up correctly</li> <li> API calls succeed</li> <li> Deep sleep mode works</li> <li> Battery lasts expected time</li> <li> USB-C charging works through panel connector</li> </ul> <p>See Component Testing Guide for detailed testing procedures.</p> <p>Questions about components? Check the FAQ or open an issue!</p> <p>Found better prices? Submit a PR to update this list!</p> <p>Need help in Lausanne? Visit FabLab EPFL or join Makerspace Renens!</p>"},{"location":"hardware/enclosure-design/","title":"Enclosure Design","text":"<p>Professional, Minimal, Desk-Friendly Design</p>"},{"location":"hardware/enclosure-design/#design-philosophy","title":"Design Philosophy","text":"<p>The Wall Clock In Machine should: - Look professional on your desk (not like a DIY hack) - Be intuitive to use (obvious what the button does) - Have personality (fun but not childish) - Be durable (survives daily button presses) - Be compact (doesn't dominate desk space)</p>"},{"location":"hardware/enclosure-design/#dimensions","title":"Dimensions","text":""},{"location":"hardware/enclosure-design/#external-dimensions","title":"External Dimensions","text":"<pre><code>Width:  100 mm (3.94 inches)\nDepth:   60 mm (2.36 inches)\nHeight:  35 mm (1.38 inches)\nWeight: ~120 grams (4.2 oz)\n</code></pre> <p>Size Comparison: About the size of a deck of cards (but wider and flatter)</p>"},{"location":"hardware/enclosure-design/#internal-dimensions","title":"Internal Dimensions","text":"<pre><code>Usable Space: 90 \u00d7 50 \u00d7 28 mm\nWall Thickness: 2.5 mm (3D print) or 2.0 mm (injection mold)\nCorner Radius: 3 mm (soft edges)\n</code></pre>"},{"location":"hardware/enclosure-design/#overall-design-concept","title":"Overall Design Concept","text":"<p>The enclosure consists of: - Top: Toggle switch centered near front edge - Front: LED light bar (8 LEDs) across full width - Right Side: USB-C charging port - Bottom: Four rubber feet at corners - Internal: Bottom shell houses all electronics (ESP32-C6 DevKitC-1, battery, TP4056 charger, regulator)</p>"},{"location":"hardware/enclosure-design/#detailed-component-layout","title":"Detailed Component Layout","text":""},{"location":"hardware/enclosure-design/#top-surface","title":"Top Surface","text":"<p>Toggle Switch Position: - Center: 50mm from left/right edges - Position: 20mm from front edge - Mounting: 12mm diameter hole - Access: Finger clearance above and to sides</p> <p>Surface Finish: - Matte or light texture (hides fingerprints) - Optional: Laser engraved \"IN\" / \"OUT\" near switch - Optional: Company logo or personal design</p>"},{"location":"hardware/enclosure-design/#front-panel","title":"Front Panel","text":"<p>LED Light Bar: - Position: Full width, 10mm from top edge - Window: 90mm \u00d7 8mm transparent slot - Implementation: Clear acrylic insert or translucent 3D print - Diffuser: Frosted finish for even light distribution</p> <p>Aesthetic: LEDs should glow softly, not blast your eyes \ud83d\udd26\u2192\ud83d\udca1</p>"},{"location":"hardware/enclosure-design/#side-panel-right-side","title":"Side Panel (Right Side)","text":"<p>USB-C Port: - Position: Center of right panel, 15mm from bottom - Hole: 9mm \u00d7 3.5mm slot - Mounting: Panel-mount connector with nut - Cable Management: Recessed area inside for connector body</p> <p>Label: Optional \"\u26a1 CHARGE\" text engraved next to port</p>"},{"location":"hardware/enclosure-design/#bottom-panel","title":"Bottom Panel","text":"<p>Rubber Feet: - 4 feet at corners - Position: 8mm from edges - Size: 10mm diameter \u00d7 3mm height - Material: Self-adhesive rubber/silicone - Purpose: Prevent sliding, protect desk surface</p> <p>Optional Features: - Screw holes for wall mounting (4 \u00d7 M4 holes) - Battery access door (if you want easy replacement) - Ventilation slots (not necessary but looks cool)</p>"},{"location":"hardware/enclosure-design/#internal-structure","title":"Internal Structure","text":"<p>Component Mounting: - ESP32-C3 PCB: M3 standoffs (4 corners) - Battery (2000mAh): Hot glue or double-sided tape - TP4056 Charger: Hot glue - AMS1117-3.3V Regulator: Hot glue or tape - LED Strips: Double-sided tape to front panel - Toggle Switch: 12mm hole, mounted with lock nut</p> <p>Wire Management: - Keep wires short (&lt; 10cm each) - Use cable ties or clips for organization - Color code: Red = power, Black = ground, Others = data - Label wires with tape if needed during assembly</p>"},{"location":"hardware/enclosure-design/#material-selection","title":"Material Selection","text":""},{"location":"hardware/enclosure-design/#3d-printing-recommended-for-diy","title":"3D Printing (Recommended for DIY)","text":"<p>Material: PLA or PETG</p> Property PLA PETG Winner Ease of Print Very Easy Medium PLA \u2705 Durability Good Better PETG \u2705 Temperature Resistance 50\u00b0C 70\u00b0C PETG \u2705 Surface Finish Excellent Good PLA \u2705 Cost $20/kg $25/kg PLA \u2705 <p>Verdict: Use PLA for desk use (indoor, controlled temp). Use PETG if in hot environments.</p> <p>Print Settings: <pre><code>Layer Height: 0.2mm (balance quality/speed)\nInfill: 20% (strong enough, saves material)\nPerimeters: 3 (strong walls)\nTop/Bottom Layers: 4\nSupports: Yes (for overhangs &gt; 45\u00b0)\nBrim/Raft: Brim (helps adhesion)\nPrint Speed: 50mm/s\nNozzle Temp: 215\u00b0C (PLA) / 240\u00b0C (PETG)\nBed Temp: 60\u00b0C (PLA) / 80\u00b0C (PETG)\n</code></pre></p> <p>Color Options: - \ud83d\udda4 Black: Professional, sleek, hides imperfections - \u26aa White: Clean, modern, Apple-esque - \ud83c\udf2b\ufe0f Gray: Neutral, industrial - \ud83d\udfe6 Blue: Playful, tech-y - \ud83c\udf08 Gradient: Mix colors for unique look!</p>"},{"location":"hardware/enclosure-design/#alternative-materials","title":"Alternative Materials","text":"<p>Laser-Cut Acrylic: - Pros: Crystal clear panels, precise cuts, modern aesthetic - Cons: Fragile, harder to assemble, more expensive - Cost: ~$15 for sheets + cutting service</p> <p>Injection-Molded ABS (for production): - Pros: Mass production, very durable, professional finish - Cons: Requires mold ($500-5000), minimum order quantity - Use: If making 100+ units</p> <p>Wood (for artisanal look): - Pros: Unique, warm aesthetic, easy to work with - Cons: Harder to fit electronics precisely, humidity issues - Best: Walnut, maple, or bamboo</p>"},{"location":"hardware/enclosure-design/#assembly-method","title":"Assembly Method","text":""},{"location":"hardware/enclosure-design/#snap-fit-design-recommended","title":"Snap-Fit Design (Recommended)","text":"<p>The enclosure consists of 3 parts: 1. Bottom Shell: Contains all electronics 2. Top Cover: Has toggle switch hole 3. Front Light Panel: Transparent LED window</p> <p>Assembly Steps: 1. Mount all electronics in bottom shell 2. Connect wires and test 3. Snap front light panel into bottom shell 4. Screw top cover on (4 \u00d7 M3 screws from bottom)</p> <p>Advantages: - \u2705 Easy to open for maintenance - \u2705 No glue needed - \u2705 Modular design - \u2705 Can replace parts</p>"},{"location":"hardware/enclosure-design/#alternative-friction-fit","title":"Alternative: Friction Fit","text":"<p>Top and bottom press together tightly, no screws.</p> <p>Pros: Cleaner look, no visible fasteners Cons: Harder to open, may loosen over time</p>"},{"location":"hardware/enclosure-design/#led-light-pipe-design","title":"LED Light Pipe Design","text":"<p>The front panel needs to diffuse LED light evenly.</p>"},{"location":"hardware/enclosure-design/#option-1-frosted-acrylic-insert","title":"Option 1: Frosted Acrylic Insert","text":"<p>Method: 1. Cut clear acrylic to 90mm \u00d7 8mm \u00d7 2mm 2. Sand with 220-grit sandpaper (both sides) for frosted effect 3. Press-fit into front panel slot 4. LED strip mounted 3mm behind acrylic</p> <p>Effect: Smooth, even glow. Professional look. \ud83c\udf1f</p>"},{"location":"hardware/enclosure-design/#option-2-translucent-3d-print","title":"Option 2: Translucent 3D Print","text":"<p>Method: 1. Print front panel with white or clear filament 2. Use 100% infill for LED window area 3. Sand smooth and polish with heat gun briefly</p> <p>Effect: Decent diffusion, one-piece design, easier. \u2728</p>"},{"location":"hardware/enclosure-design/#option-3-diffusion-film","title":"Option 3: Diffusion Film","text":"<p>Method: 1. Cut window in front panel 2. Apply frosted vinyl film or diffusion paper 3. LED strip behind film</p> <p>Effect: Quick, cheap, replaceable. Good enough! \u2705</p>"},{"location":"hardware/enclosure-design/#aesthetic-touches","title":"Aesthetic Touches","text":""},{"location":"hardware/enclosure-design/#engravings-labels","title":"Engravings / Labels","text":"<p>Top Surface Options: - Minimalist: \"IN\" / \"OUT\" near switch - Symbols: Up/down arrows (\u25b2 \u25bc) - Custom: Company logo or personal design</p>"},{"location":"hardware/enclosure-design/#color-accents","title":"Color Accents","text":"<ul> <li>Toggle switch cap: Contrasting color (e.g., red)</li> <li>LED window: Smoked acrylic (looks off when LEDs are off)</li> <li>USB port: Color-matched grommet</li> </ul>"},{"location":"hardware/enclosure-design/#brand-identity","title":"Brand Identity","text":"<p>Add your personal touch: - Laser engrave your initials on bottom - 3D print your company logo on top - Custom color scheme matching your desk setup</p>"},{"location":"hardware/enclosure-design/#ergonomics","title":"Ergonomics","text":""},{"location":"hardware/enclosure-design/#button-feel","title":"Button Feel","text":"<p>Toggle Switch Specifications: - Actuation Force: ~200-300g (satisfying click) - Travel Distance: ~5mm - Sound: Audible \"click\" for feedback - Feel: Should be firm but not stiff</p> <p>Placement Rationale: - Top center = easy to reach without looking - Elevated position = can press while holding device - Space around = won't accidentally hit</p>"},{"location":"hardware/enclosure-design/#visual-feedback","title":"Visual Feedback","text":"<p>LED Brightness: - Status LED: Medium bright (always visible but not distracting) - Energy Meter: Dimmer (ambient lighting) - Night Mode: Auto-dim after 6 PM (optional firmware feature)</p>"},{"location":"hardware/enclosure-design/#desk-placement","title":"Desk Placement","text":"<p>Optimal Position: - Within arm's reach from keyboard - Not blocking monitor - Near edge of desk (easy access when arriving/leaving) - Cable management: USB cable can reach outlet/laptop</p> <p>Rubber Feet Design: - Should grip desk without leaving marks - Allow device to be picked up with one hand - Prevent sliding when button is pressed hard</p>"},{"location":"hardware/enclosure-design/#ventilation-heat-management","title":"Ventilation &amp; Heat Management","text":"<p>Heat Generation: - ESP32-C3: Minimal heat (~0.3W typical) - LEDs: ~0.5W (not much when only few lit) - Charging: TP4056 gets warm (~1W during charge)</p> <p>Cooling Strategy: - Passive cooling (no fan needed) - Optional: Small vent slots on bottom (hidden by rubber feet) - Material: PLA conducts heat poorly but fine for this application - Spacing: Keep 2mm clearance around hot components</p> <p>No ventilation needed for normal use! Only gets warm during charging.</p>"},{"location":"hardware/enclosure-design/#durability-wear","title":"Durability &amp; Wear","text":""},{"location":"hardware/enclosure-design/#expected-lifespan","title":"Expected Lifespan","text":"<p>Components: - Toggle Switch: 50,000 cycles = 137 years of daily use \u2705 - LEDs: 50,000 hours = 17 years of 8hr/day use \u2705 - Battery: 300-500 cycles = 4-7 years \u26a0\ufe0f (replaceable!) - 3D Print: Indefinite if handled gently \u2705</p> <p>Weak Points: - USB port: Can wear out, use magnetic cable adapter - Toggle switch: Mounting nut may loosen, check yearly - Battery: Will degrade, design for easy replacement</p>"},{"location":"hardware/enclosure-design/#maintenance","title":"Maintenance","text":"<p>Annual Checkup: - Tighten toggle switch nut if loose - Clean dust from LED window with microfiber cloth - Check USB port for debris - Verify battery health (check runtime)</p> <p>Every 5 Years: - Replace battery (capacity degrades) - Re-tighten all internal screws - Update firmware (new features!)</p>"},{"location":"hardware/enclosure-design/#design-variations","title":"Design Variations","text":""},{"location":"hardware/enclosure-design/#compact-version-mini","title":"Compact Version (Mini)","text":"<ul> <li>Dimensions: 70 \u00d7 50 \u00d7 25 mm</li> <li>Battery: 1000mAh</li> <li>LEDs: 4 LEDs (minimal energy meter)</li> <li>Use Case: Travel, minimal desk space</li> </ul>"},{"location":"hardware/enclosure-design/#deluxe-version-pro","title":"Deluxe Version (Pro)","text":"<ul> <li>Dimensions: 120 \u00d7 70 \u00d7 40 mm</li> <li>Battery: 3000mAh</li> <li>LEDs: 16 LEDs (detailed energy meter)</li> <li>Extra: OLED display showing time remaining</li> <li>Use Case: Power users, detailed tracking</li> </ul>"},{"location":"hardware/enclosure-design/#wall-mounted-version","title":"Wall-Mounted Version","text":"<ul> <li>Mounting: 2 \u00d7 keyhole slots on back</li> <li>Battery: Optional (can be USB-powered)</li> <li>Orientation: Vertical (LEDs in column)</li> <li>Use Case: Fixed desk setup, always plugged in</li> </ul>"},{"location":"hardware/enclosure-design/#cad-files-templates","title":"CAD Files &amp; Templates","text":""},{"location":"hardware/enclosure-design/#provided-files","title":"Provided Files","text":"<p>Location: <code>hardware/enclosure/</code></p> <ul> <li><code>wall_clock_v1.step</code> - CAD source (Fusion 360)</li> <li><code>bottom_shell.stl</code> - 3D print ready</li> <li><code>top_cover.stl</code> - 3D print ready</li> <li><code>front_panel.stl</code> - 3D print ready</li> <li><code>light_pipe_template.dxf</code> - Laser cutting (acrylic)</li> <li><code>assembly_drawing.pdf</code> - Exploded view</li> <li><code>drilling_template.pdf</code> - For project box alternative</li> </ul>"},{"location":"hardware/enclosure-design/#customization-tips","title":"Customization Tips","text":"<p>To Modify Design: 1. Open <code>wall_clock_v1.step</code> in Fusion 360 (free for personal use) 2. Edit dimensions, add features 3. Export as STL for 3D printing 4. Slice with Cura or PrusaSlicer</p> <p>Common Modifications: - Resize to fit larger battery - Add mounting bosses for extra PCBs - Change button to push-button instead of toggle - Add speaker hole for audio feedback - Emboss your name/logo</p>"},{"location":"hardware/enclosure-design/#manufacturing-options","title":"Manufacturing Options","text":""},{"location":"hardware/enclosure-design/#diy-3d-print-at-home","title":"DIY 3D Print at Home","text":"<ul> <li>Cost: roughly $2 of filament</li> <li>Time: 6-8 hours print time</li> </ul>"},{"location":"hardware/enclosure-design/#online-3d-print-service","title":"Online 3D Print Service","text":"<ul> <li>Examples: Shapeways, Craftcloud, i.materialise, Xometry</li> <li>Cost: roughly $10-20 per enclosure -,Time: 5-10 days including shipping</li> </ul>"},{"location":"hardware/enclosure-design/#local-makerspace","title":"Local Makerspace","text":"<ul> <li>Cost: typical material + membership fees</li> <li>Time: print in one session</li> </ul>"},{"location":"hardware/enclosure-design/#cnc-laser-cutting-service","title":"CNC / Laser Cutting Service","text":"<ul> <li>Materials: wood, acrylic, aluminum</li> <li>Cost: higher, suitable for more robust enclosures</li> </ul>"},{"location":"hardware/enclosure-design/#next-steps","title":"Next Steps","text":"<ol> <li>Review CAD files in <code>hardware/enclosure/</code></li> <li>Choose material and color</li> <li>3D print or order the enclosure</li> <li>While waiting, prep the electronics (see Assembly Guide)</li> <li>Assemble everything when the enclosure arrives</li> </ol> <p>Want to modify the design? See CUSTOMIZATION_GUIDE.md</p> <p>Need help with 3D printing? Check 3D_PRINTING_TIPS.md</p> <p>See also: Wiring Diagram, Soldering, Final Testing</p>"},{"location":"hardware/overview/","title":"Hardware Overview","text":"<p>Welcome to the hardware section! This page explains the physical components that make the Wall Clock In Machine work.</p>"},{"location":"hardware/overview/#system-architecture","title":"System Architecture","text":"<p>The device consists of five main subsystems working together:</p> <pre><code>graph TD\n    A[User] --&gt; B[Button/Switch]\n    B --&gt; C[ESP32-C6 DevKitC-1 Brain]\n    C --&gt; D[LED Display]\n    C --&gt; E[WiFi Module]\n    C --&gt; F[Power System]\n    F --&gt; C\n    E --&gt; G[Internet/API]\n\n    style C fill:#6366f1\n    style D fill:#ef4444\n    style E fill:#3b82f6\n    style F fill:#22c55e</code></pre>"},{"location":"hardware/overview/#1-input-system-buttonswitch","title":"1. Input System (Button/Switch)","text":"<p>Component: SPDT Toggle Switch</p> <p>The input is a mechanical toggle switch that can be in one of two stable positions:</p> <ul> <li>Down Position = Clocked In (Working)</li> <li>Up Position = Clocked Out (Not Working)</li> </ul> <p>Why a toggle switch instead of a button?</p> <ul> <li>Physical state matches work state (no confusion)</li> <li>Accidental presses don't cause false triggers</li> <li>Tactile feedback confirms action</li> <li>No software state confusion after reboot</li> </ul> <p>Technical Details:</p> <ul> <li>Type: Single Pole Double Throw (SPDT)</li> <li>Rating: 3A @ 125VAC</li> <li>Actuation Force: 200-300g</li> <li>Lifecycle: 100,000+ operations</li> <li>Connected to GPIO pin with internal pull-up resistor</li> <li>No external resistors needed</li> </ul>"},{"location":"hardware/overview/#2-processing-unit-esp32-c6","title":"2. Processing Unit (ESP32-C6)","text":"<p>Component: ESP32-C6-DevKitC-1</p> <p>The \"brain\" of the device is a modern RISC-V microcontroller:</p> <p>Key Features (ESP32-C6 DevKitC-1):</p> <ul> <li>32-bit RISC-V processor @ 160MHz</li> <li>Large on-chip SRAM for program execution</li> <li>On-board Flash for code and data storage</li> <li>WiFi 6 (802.11 b/g/n/ax) 2.4GHz</li> <li>Bluetooth LE (future expansion)</li> <li>Plenty of GPIO pins for expansion</li> <li>Native USB-C (no UART adapter needed)</li> </ul> <p>Why ESP32-C6 DevKitC-1?</p> Requirement ESP32-C6 DevKitC-1 Alternatives WiFi \u2705 Built-in Arduino Uno + Shield $30 Low Power \u2705 Deep sleep support Raspberry Pi Zero: 100mA USB Programming \u2705 Native ESP8266 needs adapter Cost \u2705 Low-cost devkit Arduino Nano 33 IoT: $25 Community \u2705 Growing ESP32-C6 ecosystem New boards lack support <p>Pinout Overview:</p> <pre><code>                ESP32-C6 DevKitC-1\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     3V3 \u2500\u2500\u2524 1         21 \u251c\u2500\u2500 GND\n BUTTON \u2500\u2500\u2524 2         20 \u251c\u2500\u2500 (unused)\n    LED \u2500\u2500\u2524 3         19 \u251c\u2500\u2500 USB-\n     EN \u2500\u2500\u2524 4         18 \u251c\u2500\u2500 USB+\n    GND \u2500\u2500\u2524 5         17 \u251c\u2500\u2500 (unused)\n   (nc) \u2500\u2500\u2524 6         16 \u251c\u2500\u2500 (nc)\n   ...              ...\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"hardware/overview/#3-visual-feedback-system-leds","title":"3. Visual Feedback System (LEDs)","text":"<p>Component: WS2812B Addressable LED Strip</p> <p>8 individually controllable RGB LEDs provide:</p> <ol> <li>Status LED (LED 0): Shows current state</li> <li>Energy Meter (LEDs 1-7): Work session duration</li> </ol> <p>LED Technology:</p> <ul> <li>Addressable: Each LED can be different color</li> <li>RGB: 16.7 million color combinations</li> <li>Chainable: Single data pin controls all</li> <li>Brightness: 0-255 levels per channel</li> <li>Power: ~60mA per LED at full white</li> </ul> <p>Why WS2812B?</p> <ul> <li>Single GPIO pin controls 8 LEDs</li> <li>No resistors or complex wiring</li> <li>Smooth animations possible</li> <li>Standard in maker community</li> <li>Cheap: $2 for 8 LEDs</li> </ul> <p>Color Scheme:</p> State Status LED Meaning \ud83d\udd34 Red Solid Clocked Out (Idle) \ud83d\udfe2 Green Solid Clocked In (Working) \ud83d\udd35 Blue Pulsing Connecting to WiFi \ud83d\udfe1 Yellow Pulsing API Communication \ud83d\udfe3 Purple Flash Configuration Mode \ud83c\udf08 Rainbow Animation Workday Complete! <p>Energy Meter Colors:</p> <pre><code>Hours:    0-1    1-3    3-5    5-7    7-8    8+\nColor:   Green \u2192 \u2192 \u2192 Yellow \u2192 \u2192 Orange \u2192 Red\n</code></pre>"},{"location":"hardware/overview/#4-connectivity-system-wifi","title":"4. Connectivity System (WiFi)","text":"<p>Component: Built into ESP32-C3</p> <p>WiFi Specifications:</p> <ul> <li>Protocol: 802.11 b/g/n (2.4GHz only)</li> <li>Security: WPA/WPA2/WPA3</li> <li>Range: 50-100m line-of-sight</li> <li>Power: 120mA during transmission</li> <li>Deep sleep: 5\u00b5A when idle</li> </ul> <p>Configuration Portal:</p> <p>On first boot, the device creates a WiFi network:</p> <pre><code>Network Name: WallClockIn_XXXXXX\nPassword: (none - open network)\nPortal: http://192.168.4.1\n</code></pre> <p>Connect to this network and configure:</p> <ul> <li>Your WiFi network name (SSID)</li> <li>WiFi password</li> <li>API endpoint URL</li> </ul> <p>Settings stored in flash memory (survives reboots).</p> <p>API Communication:</p> <ul> <li>Protocol: HTTPS (TLS/SSL)</li> <li>Method: REST API (JSON)</li> <li>Endpoints: <code>/api/timer/start</code>, <code>/api/timer/stop</code></li> <li>Retry Logic: 3 attempts with exponential backoff</li> <li>Timeout: 10 seconds per request</li> </ul>"},{"location":"hardware/overview/#5-power-system","title":"5. Power System","text":"<p>Components: LiPo Battery + Charger + Regulator</p>"},{"location":"hardware/overview/#battery-2000mah-lipo","title":"Battery (2000mAh LiPo)","text":"<ul> <li>Type: Lithium Polymer</li> <li>Voltage: 3.7V nominal (4.2V full, 3.0V empty)</li> <li>Capacity: 2000mAh</li> <li>Form Factor: 503450 (50\u00d734\u00d75mm)</li> <li>Weight: 15g</li> <li>Lifecycle: 500+ charge cycles</li> </ul> <p>Runtime Calculation (values approximate for ESP32-C6 DevKitC-1):</p> <pre><code>Average Current:\n- ESP32 active: 80mA\n- ESP32 sleep: 0.005mA (5\u00b5A)\n- LEDs idle: 5mA (dim status LED)\n- LEDs active: 60mA (8 LEDs at 1/4 brightness)\n\nDuty Cycle (typical day):\n- 5 minutes active (button press, API call)\n- 8 hours working (LED on)\n- Rest of day in deep sleep\n\nAverage: ~15mAh per day\nBattery Life: 2000mAh / 15mAh = 133 hours = 10-14 days\n</code></pre>"},{"location":"hardware/overview/#charger-tp4056","title":"Charger (TP4056)","text":"<ul> <li>Input: USB-C, 5V</li> <li>Output: 4.2V (LiPo charging)</li> <li>Current: 1A max (configurable with resistor)</li> <li>Protection: Overcurrent, overvoltage, undervoltage</li> <li>Indicator LEDs: Red (charging), Green (full)</li> <li>Charge Time: 2-3 hours for 2000mAh</li> </ul>"},{"location":"hardware/overview/#voltage-regulator-ams1117-33","title":"Voltage Regulator (AMS1117-3.3)","text":"<ul> <li>Input: 3.0V - 5.0V (from battery or USB)</li> <li>Output: 3.3V (stable for ESP32)</li> <li>Current: 800mA max</li> <li>Dropout: 1.1V</li> <li>Protection: Thermal shutdown, current limiting</li> </ul> <p>Power Flow:</p> <pre><code>USB-C \u2500\u2500\u2192 TP4056 \u2500\u2500\u2192 Battery \u2500\u2500\u2192 AMS1117 \u2500\u2500\u2192 ESP32-C3\n   5V      Charger    3.7V     Regulator    3.3V\n</code></pre>"},{"location":"hardware/overview/#physical-specifications","title":"Physical Specifications","text":""},{"location":"hardware/overview/#enclosure-dimensions","title":"Enclosure Dimensions","text":"<pre><code>   100mm\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502     \u2502 60mm\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2518\n  Height: 35mm\n</code></pre> <ul> <li>Volume: 210 cm\u00b3</li> <li>Weight: 85g (with battery)</li> <li>Material: 3D printed PLA or laser-cut acrylic</li> </ul>"},{"location":"hardware/overview/#component-layout","title":"Component Layout","text":"<pre><code>Top View:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   [LED Strip]       \u2502\n\u2502                     \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2510         \u2502\n\u2502     \u2502 ESP \u2502         \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2502                     \u2502\n\u2502    [Battery]        \u2502\n\u2502                     \u2502\n\u2502   \u2610 [Switch]        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nSide View:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 LED | ESP | Battery \u2502 \u2190 35mm height\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"hardware/overview/#component-specifications-summary","title":"Component Specifications Summary","text":"Component Model Voltage Current Cost Microcontroller ESP32-C6-DevKitC-1 3.3V 80mA avg $4 LED Strip WS2812B (8 LEDs) 5V 60mA max $2 Switch SPDT Toggle 3.3V &lt;1mA $1 Battery LiPo 503450 2000mAh 3.7V - $8 Charger TP4056 Module 5V in 1A $2 Regulator AMS1117-3.3 3.0-5V 800mA $1 Connectors JST-PH 2.0 - - $3 Enclosure 3D Printed PLA - - $5 USB Cable USB-C 5V - $3 Misc Wires, Solder - - $2 TOTAL $31"},{"location":"hardware/overview/#safety-features","title":"Safety Features","text":""},{"location":"hardware/overview/#overcurrent-protection","title":"Overcurrent Protection","text":"<ul> <li>TP4056 limits charge current to 1A</li> <li>AMS1117 has built-in current limiting</li> <li>Battery has internal protection circuit</li> </ul>"},{"location":"hardware/overview/#thermal-protection","title":"Thermal Protection","text":"<ul> <li>AMS1117 shuts down at 150\u00b0C</li> <li>ESP32-C6 throttles at 85\u00b0C (approx.)</li> <li>Battery disconnects at 80\u00b0C</li> </ul>"},{"location":"hardware/overview/#voltage-protection","title":"Voltage Protection","text":"<ul> <li>TP4056 prevents overcharging (&gt;4.2V)</li> <li>TP4056 prevents overdischarge (&lt;3.0V)</li> <li>Reverse polarity protection on battery connector</li> </ul>"},{"location":"hardware/overview/#software-protections","title":"Software Protections","text":"<ul> <li>Watchdog timer resets frozen firmware</li> <li>Deep sleep prevents battery drain</li> <li>API timeout prevents hung connections</li> </ul>"},{"location":"hardware/overview/#expandability","title":"Expandability","text":"<p>The design includes expansion options:</p>"},{"location":"hardware/overview/#available-gpio-pins","title":"Available GPIO Pins","text":"<ul> <li>6 unused GPIO pins for sensors/buttons</li> <li>I2C interface for displays/sensors</li> <li>SPI interface for SD cards/screens</li> <li>ADC pins for analog sensors</li> </ul>"},{"location":"hardware/overview/#potential-expansions","title":"Potential Expansions","text":"<ol> <li>Temperature/Humidity Sensor (DHT22) - track office conditions</li> <li>OLED Display (128\u00d764) - show time/status</li> <li>Buzzer - audio feedback</li> <li>Motion Sensor (PIR) - auto clock-out</li> <li>NFC Reader - multi-user support</li> <li>Battery Gauge (MAX17048) - precise battery %</li> </ol>"},{"location":"hardware/overview/#bluetooth-capabilities","title":"Bluetooth Capabilities","text":"<p>ESP32-C3 includes Bluetooth 5.0 LE:</p> <ul> <li>Future mobile app for configuration</li> <li>BLE beacons for proximity detection</li> <li>Mesh networking for multi-device setups</li> </ul>"},{"location":"hardware/overview/#next-steps","title":"Next Steps","text":"<p>Ready to build? Continue to:</p> <ul> <li>Bill of Materials - Shopping list with links</li> <li>Specifications - Detailed technical specs</li> <li>Enclosure Design - 3D model and dimensions</li> </ul> <p>Or jump ahead to:</p> <ul> <li>Assembly Guide - Start building!</li> </ul>"},{"location":"hardware/specifications/","title":"Hardware Specifications","text":"<p>Detailed technical specifications for all components in the Wall Clock In Machine.</p>"},{"location":"hardware/specifications/#overview","title":"Overview","text":"<p>This document details the technical specifications and component selection rationale for the Wall Clock In Machine.</p>"},{"location":"hardware/specifications/#design-requirements","title":"Design Requirements","text":""},{"location":"hardware/specifications/#functional-requirements","title":"Functional Requirements","text":"<ul> <li>Single button for clock in/out</li> <li>Visual feedback via LEDs</li> <li>WiFi connectivity for API communication</li> <li>8+ hours battery life</li> <li>Automatic charging via USB-C</li> <li>Compact desktop form factor</li> </ul>"},{"location":"hardware/specifications/#technical-requirements","title":"Technical Requirements","text":"<ul> <li>WiFi 802.11 b/g/n (2.4GHz)</li> <li>HTTPS support for secure API calls</li> <li>Button debouncing</li> <li>Low power sleep modes</li> <li>Battery level monitoring</li> </ul>"},{"location":"hardware/specifications/#system-overview","title":"System Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               Wall Clock In Machine                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                      \u2502\n\u2502  Input      \u2500\u2500\u2192  Processing  \u2500\u2500\u2192  Output            \u2502\n\u2502  Toggle         ESP32-C6        8\u00d7 RGB LEDs         \u2502\n\u2502  Switch         RISC-V          WS2812B             \u2502\n\u2502                 160MHz                               \u2502\n\u2502                                                      \u2502\n\u2502  Power: 3.7V LiPo \u2500\u2500\u2192 3.3V Regulated               \u2502\n\u2502         2000mAh        AMS1117                      \u2502\n\u2502                                                      \u2502\n\u2502  Connectivity: WiFi 802.11 b/g/n                    \u2502\n\u2502                HTTPS API Calls                       \u2502\n\u2502                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"hardware/specifications/#1-microcontroller-esp32-c6-devkitc-1","title":"1. Microcontroller (ESP32-C6 DevKitC-1)","text":""},{"location":"hardware/specifications/#core-specifications","title":"Core Specifications","text":"Parameter Value Notes CPU RISC-V 32-bit Single core @ 160MHz Architecture RISC-V RV32IMC Open source architecture SRAM 400 KB For program execution ROM 384 KB Boot code Flash 4 MB External SPI flash Clock Speed 160 MHz Adjustable down to 2MHz FPU No Integer only Cache 16KB I-Cache, 16KB D-Cache Improves performance"},{"location":"hardware/specifications/#wireless","title":"Wireless","text":"Parameter Value Notes WiFi 802.11 b/g/n 2.4GHz only, no 5GHz WiFi Modes Station, AP, Station+AP We use Station mode WiFi Security WPA/WPA2/WPA3 Modern security Bluetooth BLE 5.0 Not used in current firmware Max TX Power 20.5 dBm ~100mW RX Sensitivity -97 dBm Good reception Range 50-100m Line of sight"},{"location":"hardware/specifications/#gpio-peripherals","title":"GPIO &amp; Peripherals","text":"Parameter Value Notes GPIO Pins 22 total 15 usable (some reserved) ADC 6 channels, 12-bit 0-3.3V range PWM 6 channels LED dimming SPI 3 interfaces For flash, external devices I2C 1 interface For sensors, displays UART 2 interfaces Serial communication USB 1\u00d7 USB 2.0 OTG Native USB-C Touch Sensors 14 channels Capacitive touch RTC Yes Real-time clock for timekeeping Watchdog Timer Yes Auto-reset on hang"},{"location":"hardware/specifications/#power-consumption","title":"Power Consumption","text":"Mode Current Voltage Power Use Case Active (WiFi TX) 120mA 3.3V 396mW Sending API request Active (WiFi RX) 100mA 3.3V 330mW Receiving API response Active (CPU only) 25mA 3.3V 82.5mW Processing, no WiFi Modem Sleep 15mA 3.3V 49.5mW WiFi off, CPU active Light Sleep 1.8mA 3.3V 5.9mW CPU paused, RAM retained Deep Sleep 5\u00b5A 3.3V 16.5\u00b5W \u2b50 Used when idle Hibernation 2.5\u00b5A 3.3V 8.25\u00b5W RTC + minimal RAM <p>Our Usage Pattern: - Deep sleep 95% of time: 5\u00b5A - Active 5% of time (button press, API, LED): ~80mA average - Blended average: ~15mA over 24 hours</p>"},{"location":"hardware/specifications/#memory-map","title":"Memory Map","text":"<pre><code>0x4000_0000 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502  Internal ROM   \u2502  384KB\n0x4006_0000 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n            \u2502  Internal SRAM  \u2502  400KB\n0x400C_4000 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n            \u2502  External Flash \u2502  4MB\n0x4200_0000 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n            \u2502  Memory-mapped  \u2502\n            \u2502  peripherals    \u2502\n0xFFFF_FFFF \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"hardware/specifications/#temperature-environmental","title":"Temperature &amp; Environmental","text":"Parameter Value Notes Operating Temp -40\u00b0C to +85\u00b0C Industrial grade Storage Temp -40\u00b0C to +125\u00b0C When powered off Humidity 5% to 95% RH Non-condensing ESD Protection 2kV HBM Human body model"},{"location":"hardware/specifications/#pin-configuration-our-usage-on-esp32-c6-devkitc-1","title":"Pin Configuration (Our Usage on ESP32-C6 DevKitC-1)","text":"GPIO Pin Function Connection Notes GPIO9 Digital Input Toggle Switch Pull-up enabled GPIO8 Digital Output WS2812B Data Series resistor recommended EN Reset Reset Button Active low GND Ground Ground plane Multiple pins 3V3 Power Output 3.3V supply 600mA max 5V Power Input USB 5V Only when USB connected <p>Unused Pins (available for expansion): - GPIO0, 1, 4, 5, 6, 7, 10, 18, 19 (9 pins free!)</p>"},{"location":"hardware/specifications/#2-led-strip-ws2812b","title":"2. LED Strip (WS2812B)","text":""},{"location":"hardware/specifications/#electrical-specifications","title":"Electrical Specifications","text":"Parameter Value Notes LED Type WS2812B Integrated controller + RGB LED Package 5050 SMD 5.0\u00d75.0mm IC Protocol Single-wire serial 800kHz Voltage 5V \u00b10.5V Can work at 3.7V (dimmer) Current per LED 60mA max At full white (R+G+B=255) Current typical 20mA At \u2153 brightness Power per LED 0.3W max Full brightness PWM Frequency 400Hz Flicker-free Color Depth 8-bit per channel 16.7M colors (256\u00b3)"},{"location":"hardware/specifications/#optical-specifications","title":"Optical Specifications","text":"Parameter Value Notes Red 620-625nm Dominant wavelength Green 515-525nm Dominant wavelength Blue 465-475nm Dominant wavelength Luminous Intensity Red: 550-700mcd At 20mA Green: 1100-1400mcd At 20mA Blue: 200-400mcd At 20mA Viewing Angle 120\u00b0 Wide dispersion"},{"location":"hardware/specifications/#timing-requirements","title":"Timing Requirements","text":"Parameter Value Tolerance T0H (0 bit high) 0.4\u00b5s \u00b1150ns T0L (0 bit low) 0.85\u00b5s \u00b1150ns T1H (1 bit high) 0.8\u00b5s \u00b1150ns T1L (1 bit low) 0.45\u00b5s \u00b1150ns Reset &gt;50\u00b5s Low signal <p>Data Format: <pre><code>Each LED: 24 bits (GRB order)\nBit 0:    High for 0.4\u00b5s, Low for 0.85\u00b5s\nBit 1:    High for 0.8\u00b5s, Low for 0.45\u00b5s\n\nExample: Green=255, Red=0, Blue=0\nData: [11111111][00000000][00000000]\n      \u2191Green    \u2191Red      \u2191Blue\n</code></pre></p>"},{"location":"hardware/specifications/#power-budget-8-leds","title":"Power Budget (8 LEDs)","text":"Scenario Current Power Notes All off 1mA 5mW Quiescent current 1 LED dim (10%) 6mA 30mW Status indicator 7 LEDs medium (25%) 105mA 525mW Energy meter All LEDs full white 480mA 2.4W Rainbow celebration Typical usage 60mA 300mW Status + 50% meter <p>Voltage Drop Consideration: - Long LED strips: Voltage drops 0.5V per meter - Our 8 LEDs: Negligible drop (&lt;0.1V) - No need for power injection</p>"},{"location":"hardware/specifications/#3-toggle-switch","title":"3. Toggle Switch","text":""},{"location":"hardware/specifications/#mechanical-specifications","title":"Mechanical Specifications","text":"Parameter Value Notes Type SPDT Single Pole, Double Throw Positions 2 (ON-ON) Both stable Actuation Force 200-300g Tactile feedback Contact Resistance &lt;50m\u03a9 Low resistance Insulation Resistance &gt;100M\u03a9 High isolation Dielectric Strength 1000VAC Safety Mechanical Life 100,000 cycles Very durable Electrical Rating 3A @ 125VAC Overkill for 3.3V Mounting Panel mount 6mm threaded bushing"},{"location":"hardware/specifications/#contact-configuration","title":"Contact Configuration","text":"<pre><code>         \u250c\u2500\u2500\u2500 COM (Common)\n    ON   \u2502\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500 NC (Normally Closed)\n  \u2502      \u2502\n  \u2502      \u2514\u2500\u2500\u2500\u2500 NO (Normally Open)\n  \u2502\n  \u2514\u2500 ON position 2\n\nOur wiring:\n  COM \u2192 GPIO2 (ESP32)\n  NC  \u2192 Not connected\n  NO  \u2192 GND\n</code></pre> <p>Switch States: - UP position: COM disconnected from GND \u2192 GPIO reads HIGH (3.3V) \u2192 Clocked Out - DOWN position: COM connected to GND \u2192 GPIO reads LOW (0V) \u2192 Clocked In</p>"},{"location":"hardware/specifications/#debouncing","title":"Debouncing","text":"<p>Mechanical switches \"bounce\" when toggled:</p> <pre><code>Ideal:     \u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nReality:   \u2500\u2500\u2500\u2510\u2510\u2510\u2510           \u250c\u2510\u250c\u250c\u2500\u2500\n              \u2514\u2518\u2514\u2518\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2518\n              \u2191 Bouncing (5-20ms)\n</code></pre> <p>Software debouncing in firmware: - Read switch state - Wait 50ms - Read again to confirm - Only register if stable</p>"},{"location":"hardware/specifications/#4-battery-lipo","title":"4. Battery (LiPo)","text":""},{"location":"hardware/specifications/#electrical-specifications_1","title":"Electrical Specifications","text":"Parameter Value Notes Chemistry Lithium Polymer LiPo Nominal Voltage 3.7V Average during discharge Fully Charged 4.2V Maximum safe voltage Discharged 3.0V Minimum safe voltage Capacity 2000mAh At 0.2C discharge rate Discharge Rate 1C typical 2A continuous Max Discharge 2C burst 4A for 10 seconds Charge Rate 1C max 2A charging Internal Resistance 80-120m\u03a9 Affects efficiency Cycle Life 500 cycles To 80% capacity"},{"location":"hardware/specifications/#physical-specifications","title":"Physical Specifications","text":"Parameter Value Notes Form Factor 503450 50\u00d734\u00d75mm (LxWxH) Weight 15g Lightweight Connector JST-PH 2.0 2-pin, 2.0mm pitch Protection Built-in PCM Protects against abuse"},{"location":"hardware/specifications/#discharge-curve","title":"Discharge Curve","text":"<pre><code>Voltage vs. Capacity\n4.2V \u2524\u25cf\n     \u2502 \u2572\n4.0V \u2524  \u2572___\n     \u2502      \u2572___\n3.7V \u2524          \u2500\u2500\u2500___\n     \u2502                \u2572___\n3.3V \u2524                    \u2572___\n     \u2502                        \u2572___\n3.0V \u2524                            \u25cf\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n     0%                         100%\n         Discharged Capacity\n</code></pre> <p>Voltage to Percentage (approximate): - 4.2V = 100% - 4.0V = 90% - 3.9V = 80% - 3.8V = 60% - 3.7V = 40% - 3.6V = 20% - 3.3V = 5% - 3.0V = 0%</p>"},{"location":"hardware/specifications/#runtime-calculation","title":"Runtime Calculation","text":"<p>Average current consumption: <pre><code>Deep sleep (23h 55min):  5\u00b5A \u00d7 23.92h = 0.12mAh\nActive (5 min/day):      80mA \u00d7 0.08h = 6.4mAh\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nTotal per day:                          6.52mAh\n\nBattery capacity:        2000mAh\nDays per charge:         2000 / 6.52 = 307 days\n</code></pre></p> <p>Wait, 307 days? Not quite! Reality factors:</p> <ul> <li>LED usage during work hours: +10mAh/day</li> <li>WiFi reconnections: +5mAh/day</li> <li>API calls: +2mAh/day</li> <li>Efficiency losses: +5mAh/day</li> <li>Self-discharge: ~1%/month</li> </ul> <p>Realistic runtime: 10-14 days per charge</p>"},{"location":"hardware/specifications/#safety-features-pcm","title":"Safety Features (PCM)","text":"<p>Built-in Protection Circuit Module prevents:</p> Protection Threshold Action Overcharge &gt;4.25V Disconnect charging Overdischarge &lt;2.5V Disconnect load Overcurrent &gt;3A Disconnect temporarily Short circuit &lt;0.1\u03a9 Disconnect immediately Over-temperature &gt;80\u00b0C Disconnect all"},{"location":"hardware/specifications/#charging-profile","title":"Charging Profile","text":"<pre><code>Current/Voltage vs. Time\n\n4.2V \u2524              ___________\n     \u2502            \u2571\n     \u2502          \u2571  Constant Voltage\n3.7V \u2524        \u2571\n     \u2502    \u2571\u2571\u2571\u2571  Constant Current\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n     0h   1h   2h   3h   4h\n\nCurrent:\n1.0A \u2524\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2572\n     \u2502         \u2572___\n     \u2502             \u2572___\n0.1A \u2524                 \u2572___\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n     0h   1h   2h   3h   4h\n</code></pre> <p>Stages: 1. Constant Current (0-2h): Charge at 1A until 4.2V 2. Constant Voltage (2-3h): Hold 4.2V, current tapers 3. Termination: Stop when current &lt;0.1A (100mA)</p>"},{"location":"hardware/specifications/#5-charger-tp4056","title":"5. Charger (TP4056)","text":""},{"location":"hardware/specifications/#electrical-specifications_2","title":"Electrical Specifications","text":"Parameter Value Notes Input Voltage 4.5-5.5V USB power Input Current 1A max Configurable Charge Voltage 4.2V \u00b11% Precise regulation Charge Current 1A default Set by RPROG resistor Charge Termination 0.1A 10% of charge current Efficiency 85% Heat generation Dropout Voltage 0.5V Vout = Vin - 0.5V Standby Current &lt;2\u00b5A When not charging"},{"location":"hardware/specifications/#protection-features","title":"Protection Features","text":"Feature Threshold Notes Over-temperature 120\u00b0C Thermal shutdown Input Overvoltage &gt;6.5V Protection Output Overvoltage &gt;4.3V Battery protection Reverse Battery Yes Prevents damage Charge Timer Optional Safety timeout"},{"location":"hardware/specifications/#charge-current-configuration","title":"Charge Current Configuration","text":"<p>Charge current set by RPROG resistor:</p> RPROG Charge Current Charge Time (2000mAh) 1.2k\u03a9 1000mA (1A) 2-2.5 hours 2k\u03a9 600mA 3-4 hours 3k\u03a9 400mA 5-6 hours 10k\u03a9 130mA 15-20 hours <p>Formula: <code>Icharge = 1200V / RPROG</code></p> <p>Default: Most TP4056 modules come with 1.2k\u03a9 (1A charging)</p>"},{"location":"hardware/specifications/#led-indicators","title":"LED Indicators","text":"LED State Meaning Red On Charging Red Off Not connected or error Blue/Green On Fully charged Both Off No battery"},{"location":"hardware/specifications/#pinout","title":"Pinout","text":"<pre><code>TP4056 Module\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 IN+    BAT+ \u2502\n\u2502             \u2502\n\u2502 IN-    BAT- \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nIN+ \u2192 USB 5V\nIN- \u2192 USB GND\nBAT+ \u2192 Battery positive (JST red wire)\nBAT- \u2192 Battery negative (JST black wire)\n</code></pre>"},{"location":"hardware/specifications/#6-voltage-regulator-ams1117-33","title":"6. Voltage Regulator (AMS1117-3.3)","text":""},{"location":"hardware/specifications/#electrical-specifications_3","title":"Electrical Specifications","text":"Parameter Value Notes Input Voltage 4.5-7V Absolute max: 15V Output Voltage 3.3V \u00b12% Tight regulation Output Current 800mA 1A absolute max Dropout Voltage 1.1V Vin min = 4.4V Quiescent Current 5mA Wasted as heat Load Regulation \u00b11% Stable under load Line Regulation \u00b10.2% Stable with Vin changes Ripple Rejection 75dB Filters input noise"},{"location":"hardware/specifications/#thermal-characteristics","title":"Thermal Characteristics","text":"Parameter Value Notes Thermal Resistance 50\u00b0C/W Without heatsink Operating Temp -40\u00b0C to +125\u00b0C Junction temp Thermal Shutdown 150\u00b0C Automatic protection Power Dissipation 1.2W max Without heatsink <p>Heat calculation: <pre><code>Power dissipated = (Vin - Vout) \u00d7 Iout\nExample: (4.2V - 3.3V) \u00d7 100mA = 90mW\nTemperature rise: 90mW \u00d7 50\u00b0C/W = 4.5\u00b0C\n\nSafe without heatsink \u2713\n</code></pre></p>"},{"location":"hardware/specifications/#capacitors-required","title":"Capacitors Required","text":"Capacitor Value Location Purpose Input 10\u00b5F VIN to GND Stabilize input Output 22\u00b5F VOUT to GND Reduce ripple Ceramic bypass 0.1\u00b5F Both sides High-freq noise <p>Note: Most AMS1117 modules include these capacitors already!</p>"},{"location":"hardware/specifications/#pinout_1","title":"Pinout","text":"<pre><code>AMS1117 Module (Top View)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 VIN         \u2502\n\u2502 GND    VOUT \u2502\n\u2502 GND         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nVIN  \u2192 Battery positive (3.7-4.2V)\nGND  \u2192 Common ground\nVOUT \u2192 ESP32 3.3V input\n</code></pre>"},{"location":"hardware/specifications/#system-integration","title":"System Integration","text":""},{"location":"hardware/specifications/#power-distribution","title":"Power Distribution","text":"<pre><code>USB-C 5V \u2500\u2500\u2192 TP4056 \u2500\u2500\u252c\u2500\u2500\u2192 Battery (3.7V)\n                       \u2502\n                       \u2514\u2500\u2500\u2192 AMS1117 \u2500\u2500\u2192 ESP32 (3.3V)\n\n                            ESP32 5V \u2500\u2500\u2192 WS2812B LEDs (5V)\n</code></pre> <p>Power Paths: 1. USB connected: USB \u2192 TP4056 \u2192 Battery + AMS1117 \u2192 ESP32 2. USB disconnected: Battery \u2192 AMS1117 \u2192 ESP32 3. LEDs: Always powered from ESP32's 5V pin (USB) or 3.7V (battery)</p>"},{"location":"hardware/specifications/#voltage-levels","title":"Voltage Levels","text":"Node Voltage Range Current USB Input 5.0V 4.75-5.25V 500mA-2A Battery 3.7V 3.0-4.2V 2000mA capacity ESP32 Input 3.3V 3.0-3.6V 80mA avg GPIO High 3.3V 2.64-3.3V 40mA max GPIO Low 0V 0-0.33V 40mA max LED Data 3.3V 2.5-5.0V &lt;1mA LED Power 5.0V 4.5-5.5V 60mA per LED"},{"location":"hardware/specifications/#signal-levels","title":"Signal Levels","text":"Signal Type Voltage Frequency Toggle Switch Digital Input 0V / 3.3V DC LED Data Serial Data 3.3V 800kHz WiFi RF Analog N/A 2.4GHz USB Data Differential 0.3-3.6V 12Mbps"},{"location":"hardware/specifications/#environmental-specifications","title":"Environmental Specifications","text":""},{"location":"hardware/specifications/#operating-conditions","title":"Operating Conditions","text":"Parameter Min Typical Max Notes Temperature 0\u00b0C 20\u00b0C 40\u00b0C Office environment Humidity 20% 50% 80% Non-condensing Altitude 0m 600m 2000m Lausanne is 495m Atmospheric Pressure 800hPa 1013hPa 1100hPa Affects WiFi range"},{"location":"hardware/specifications/#storage-conditions","title":"Storage Conditions","text":"Parameter Min Max Notes Temperature -20\u00b0C +60\u00b0C Battery separate: -40\u00b0C to +50\u00b0C Humidity 10% 90% Non-condensing Battery Storage 40-60% Charge level for long-term storage"},{"location":"hardware/specifications/#compliance-certifications","title":"Compliance &amp; Certifications","text":""},{"location":"hardware/specifications/#electromagnetic-compatibility-emc","title":"Electromagnetic Compatibility (EMC)","text":"<ul> <li>WiFi: FCC Part 15, CE, IC certified (via ESP32 module)</li> <li>Emissions: Class B (residential)</li> <li>Immunity: IEC 61000-4 compliant</li> </ul>"},{"location":"hardware/specifications/#safety","title":"Safety","text":"<ul> <li>Low Voltage: USB 5V, compliant with IEC 60950</li> <li>Battery: UN38.3 certified (LiPo shipping)</li> <li>RoHS: Lead-free components</li> </ul> <p>Personal projects don't need certifications, but most components are pre-certified. If selling commercially, you would need to consider CE marking and similar requirements.</p>"},{"location":"hardware/specifications/#performance-summary","title":"Performance Summary","text":"Metric Value Boot Time 2-3 seconds Battery Life 10-14 days WiFi Range 50-100m Response Time &lt;500ms Cost CHF 40-90 Size 100\u00d760\u00d735mm Weight 85g"},{"location":"hardware/specifications/#development-tools-required","title":"Development Tools Required","text":""},{"location":"hardware/specifications/#hardware-tools","title":"Hardware Tools","text":"<ul> <li>Soldering iron (30W+)</li> <li>Solder (lead-free recommended)</li> <li>Wire strippers</li> <li>Small screwdriver set</li> <li>Multimeter</li> <li>USB-C cable</li> <li>Helping hands / PCB holder</li> <li>Heat shrink tubing</li> </ul>"},{"location":"hardware/specifications/#software-tools","title":"Software Tools","text":"<ul> <li>Rust toolchain (rustup): Firmware development</li> <li>espflash: Flashing firmware and serial monitor</li> <li>Web Browser: Initial device configuration</li> </ul>"},{"location":"hardware/specifications/#optional-tools","title":"Optional Tools","text":"<ul> <li>3D printer (or use online service)</li> <li>Hot glue gun</li> <li>Dremel for enclosure modifications</li> <li>Logic analyzer for debugging</li> </ul>"},{"location":"hardware/specifications/#safety-considerations","title":"Safety Considerations","text":""},{"location":"hardware/specifications/#electrical-safety","title":"Electrical Safety","text":"<p>\u26a0\ufe0f LiPo Battery: Can be dangerous if punctured, overcharged, or shorted - Always use the TP4056 protection circuit - Don't short the battery terminals - Charge in a fireproof container first time - Stop using if battery swells</p>"},{"location":"hardware/specifications/#construction-safety","title":"Construction Safety","text":"<ul> <li>Work in ventilated area (solder fumes)</li> <li>Wear safety glasses</li> <li>Don't touch soldering iron tip (seriously)</li> <li>Check polarity before connecting power</li> </ul>"},{"location":"hardware/specifications/#testing-checklist","title":"Testing Checklist","text":"<p>Before assembling into enclosure:</p> <ul> <li> Battery charges correctly (LED indicators work)</li> <li> ESP32-C6 DevKitC-1 boots and connects to WiFi</li> <li> Button press detected reliably</li> <li> All 8 LEDs light up correctly</li> <li> API calls succeed</li> <li> Deep sleep mode works</li> <li> Battery lasts expected time</li> <li> USB-C charging works through panel connector</li> </ul>"},{"location":"hardware/specifications/#cost-breakdown","title":"Cost Breakdown","text":"Component Price (CHF) Source ESP32-C6 DevKitC-1 CHF 12-18 Digitec/Conrad WS2812B LED Strip (8 LEDs) CHF 8-15 Digitec/Conrad Toggle Switch CHF 5-8 Conrad/Distrelec 2000mAh LiPo Battery CHF 15-25 Digitec/Conrad TP4056 Charger Module CHF 3-8 Conrad/Distrelec USB-C Panel Connector CHF 5-8 Conrad/Digitec LDO 3.3V Regulator CHF 3-5 Conrad/Distrelec Passive Components Kit CHF 8-12 Conrad/Distrelec Enclosure (3D print) CHF 15-25 Material cost Misc (wire, solder, etc.) CHF 5-10 - TOTAL ~CHF 79-124 <p>Prices approximate and vary by supplier. See Bill of Materials for detailed Swiss supplier information.</p>"},{"location":"hardware/specifications/#power-budget-analysis","title":"Power Budget Analysis","text":""},{"location":"hardware/specifications/#detailed-current-draw","title":"Detailed Current Draw","text":"State Duration Current Energy API Call 2 sec 120 mA 0.067 mAh LED Update 5 sec 100 mA 0.139 mAh Deep Sleep 8 hours 0.005 mA 0.040 mAh Daily Total - - ~0.5 mAh"},{"location":"hardware/specifications/#battery-life-projection","title":"Battery Life Projection","text":"<p>Scenario 1: Typical Use - 2 button presses/day (clock in/out) - LEDs on for 8 hours (energy meter) - Deep sleep when not displaying - Battery Life: 12-14 days</p> <p>Scenario 2: Heavy Use - Multiple check-ins throughout day - LEDs always bright - Frequent API sync - Battery Life: 7-10 days</p> <p>Scenario 3: Idle - No button presses - Deep sleep most of the time - Battery Life: 30+ days</p>"},{"location":"hardware/specifications/#next-steps","title":"Next Steps","text":"<p>Now that you understand the technical specifications:</p> <ol> <li>\ud83d\udccb Review the Bill of Materials</li> <li>\ud83d\uded2 Order all components</li> <li>\ud83d\udce6 While waiting, review Assembly Guide</li> <li>\ud83c\udfa8 Design your enclosure (or use reference design) - see Enclosure Design</li> <li>\ud83d\udcbb Set up development environment</li> </ol> <p>Or explore:</p> <ul> <li>Enclosure Design - Physical design and 3D models</li> <li>Wiring Diagram - Connection guide</li> </ul> <p>Questions? Check the Troubleshooting Guide or open an issue!</p>"},{"location":"hardware/wiring/","title":"Wiring Diagram","text":"<p>Connections between ESP32-C6 DevKitC-1, button, LED strip, charger, and battery.</p>"},{"location":"hardware/wiring/#summary","title":"Summary","text":"<ul> <li>Microcontroller: ESP32-C6 DevKitC-1</li> <li>LEDs: WS2812B (8 pixels)</li> <li>Button: SPDT or latching toggle</li> <li>Power: 3.7V LiPo via TP4056 to 3.3V regulator</li> </ul>"},{"location":"hardware/wiring/#pin-mapping","title":"Pin Mapping","text":"Function ESP32-C6 Pin Notes LED Data GPIO 2 Connect to DIN of WS2812B via 330\u03a9 resistor Button GPIO 9 Use pull-up; button to GND Charger Status (optional) GPIO 3 Read charging state Battery Voltage (optional) GPIO 4 (ADC) Via divider 100k/220k"},{"location":"hardware/wiring/#power","title":"Power","text":"<ul> <li>Battery (3.7V LiPo) \u2192 TP4056 Charger \u2192 5V USB-C input</li> <li>Output to AMS1117-3.3 (or onboard regulator) \u2192 ESP32 3.3V</li> <li>LED strip powered at 5V if available; else 3.3V logic level often works</li> <li>Common GND for all components</li> </ul>"},{"location":"hardware/wiring/#schematic-notes","title":"Schematic Notes","text":"<ul> <li>Add 1000 \u00b5F capacitor across LED power near strip</li> <li>Add 330 \u03a9 resistor in series with LED data line</li> <li>Keep LED ground and data wire short and twisted if possible</li> </ul>"},{"location":"hardware/wiring/#assembly-order","title":"Assembly Order","text":"<ol> <li>Wire power rails and verify 3.3V/5V</li> <li>Connect LED strip (5V, GND, DIN)</li> <li>Connect button to GPIO with pull-up</li> <li>Optional: voltage divider for battery sensing</li> <li>Tidy cables and strain relief</li> </ol>"},{"location":"hardware/wiring/#testing","title":"Testing","text":"<ul> <li>Flash LED blink test</li> <li>Verify button reads HIGH/LOW correctly</li> <li>Confirm no brownouts when LEDs animate</li> </ul> <p>Reference: Specifications, Soldering</p>"},{"location":"usage/battery/","title":"Battery Management","text":"<p>Guidance to keep your device healthy and extend battery life.</p>"},{"location":"usage/battery/#specs","title":"Specs","text":"<ul> <li>3.7V LiPo, 2000 mAh</li> <li>Charger: TP4056 (USB-C module)</li> <li>Runtime: 10-14 days typical</li> </ul>"},{"location":"usage/battery/#charging","title":"Charging","text":"<ul> <li>Plug into USB-C 5V source (phone charger is fine)</li> <li>Red LED on charger = charging, Green = full</li> <li>Safe to leave overnight (auto cutoff)</li> </ul>"},{"location":"usage/battery/#best-practices","title":"Best Practices","text":"<ul> <li>Charge around 20-30% (yellow warning)</li> <li>Unplug when fully charged</li> <li>Avoid full discharge (&lt;5%)</li> <li>Don\u2019t leave on charger for weeks</li> </ul>"},{"location":"usage/battery/#battery-life-vs-brightness","title":"Battery Life vs Brightness","text":"Brightness Typical Days 25% 16-20 50% 12-16 100% 7-10 <p>Adjust in firmware: <code>BRIGHTNESS</code> constant in <code>led_controller.cpp</code>.</p>"},{"location":"usage/battery/#replacement","title":"Replacement","text":"<p>Expected lifespan: 3-5 years.</p> <p>Signs you need a replacement: - Device dies quickly after charge - Charger stays red unusually long - Battery swollen or warm (stop using immediately)</p> <p>Steps: 1. Buy replacement 3.7V LiPo (same dimensions, JST-PH 2.0) 2. Power off device, disconnect old battery 3. Connect new battery paying attention to polarity 4. Charge fully before first use</p>"},{"location":"usage/battery/#storage","title":"Storage","text":"<p>If not using for 1+ month: - Charge to ~50-70% - Power off and disconnect from charger - Store at 15-25\u00b0C, dry place - Recharge every 3 months</p>"},{"location":"usage/battery/#safety","title":"Safety","text":"<ul> <li>Never puncture or bend the cell</li> <li>Don\u2019t short-circuit terminals</li> <li>Use quality chargers only</li> <li>Stop using if battery swells, smells, or overheats</li> </ul>"},{"location":"usage/battery/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Charges but dies fast \u2192 Battery aging; reduce brightness; consider replacement</li> <li>Doesn\u2019t charge \u2192 Check USB cable and charger; verify polarity; inspect TP4056 module</li> <li>Gets hot while charging \u2192 Unplug immediately; inspect for short; replace battery</li> </ul> <p>Related: LED Indicators, Maintenance</p>"},{"location":"usage/daily-operation/","title":"Daily Operation","text":"<p>This guide covers the everyday use of your Wall Clock In Machine for tracking office work hours.</p>"},{"location":"usage/daily-operation/#basic-operation","title":"Basic Operation","text":""},{"location":"usage/daily-operation/#starting-your-work-day","title":"Starting Your Work Day","text":"<p>When you arrive at the office:</p> <ol> <li>Check Device Status</li> <li>Top LED should be breathing green (clocked out, idle)</li> <li>If red: Check battery level and power connections</li> <li> <p>If blinking blue: Device is connecting to WiFi</p> </li> <li> <p>Clock In</p> </li> <li>Press button down (toggle to \"working\" position)</li> <li>Top LED turns solid blue</li> <li> <p>Energy meter fills 1 LED (green) after ~1 hour</p> </li> <li> <p>Confirmation</p> </li> <li>Listen for quiet \"beep\" from LED feedback (visual pulse)</li> <li>Check backend API to verify session started</li> <li>If no response: Check WiFi connection and API configuration</li> </ol> <p>Normal behavior: Button stays in DOWN position throughout your work session.</p>"},{"location":"usage/daily-operation/#during-your-work-session","title":"During Your Work Session","text":"<p>Energy Meter Visualization:</p> <p>The 7 lower LEDs show your accumulated work time:</p> Hours Worked LEDs Lit Color Gradient 0-1 hour 1 LED Green 1-2 hours 2 LEDs Green 2-3 hours 3 LEDs Green-Yellow 3-4 hours 4 LEDs Yellow 4-5 hours 5 LEDs Yellow-Orange 5-6 hours 6 LEDs Orange-Red 6+ hours 7 LEDs Red (full) <p>Color meanings: - Green (0-2 hours): Fresh, starting work - Yellow (2-4 hours): Productive middle - Orange (4-5 hours): Consider a break - Red (5+ hours): Long session, time for lunch/break!</p> <p>Status LED (top): - Solid Blue: Working normally, clocked in - Pulsing Blue: Sending API update (every 5 minutes) - Blinking Yellow: Battery below 20% - Blinking Red: Error (check battery level and connections)</p>"},{"location":"usage/daily-operation/#taking-breaks","title":"Taking Breaks","text":"<p>The Wall Clock In Machine tracks continuous work time:</p> <p>Option 1: Keep Running (Recommended for short breaks) - Leave button DOWN - Take coffee/bathroom break (5-15 min) - Energy meter continues counting - No action needed</p> <p>Option 2: Clock Out for Breaks (Lunch, meetings) - Press button up (toggle to \"stopped\" position) - Device saves session and uploads to API - Take your break - Press button down when you return to start new session</p> <p>Why Option 1 is better: - One continuous session = accurate daily total - Less manual interaction - Backend API aggregates all sessions automatically</p> <p>When to use Option 2: - Lunch break (30+ minutes) - Off-site meeting - End of work day</p>"},{"location":"usage/daily-operation/#ending-your-work-day","title":"Ending Your Work Day","text":"<p>When leaving the office:</p> <ol> <li>Clock Out</li> <li>Press button up (toggle to \"clocked out\" position)</li> <li>Top LED pulses blue (uploading session)</li> <li>Energy meter LEDs fade out one by one</li> <li> <p>Top LED returns to breathing green</p> </li> <li> <p>Verification</p> </li> <li>Check backend API/dashboard for recorded hours</li> <li>Verify session end time is correct</li> <li> <p>Review energy meter accuracy (should match your actual hours)</p> </li> <li> <p>Charging (if needed)</p> </li> <li>Plug in USB-C cable if battery below 30%</li> <li>Charging LED turns red</li> <li>Unplug when green (or leave overnight)</li> </ol> <p>Battery management: See Battery Management</p>"},{"location":"usage/daily-operation/#led-indicator-reference","title":"LED Indicator Reference","text":""},{"location":"usage/daily-operation/#quick-status-check","title":"Quick Status Check","text":"Indicator Pattern Meaning Action Top LED Solid Blue Connecting to WiFi Wait a few seconds Top LED Solid Green Connected / last API OK Normal operation Top LED Solid Yellow WiFi / API error (last call) Check WiFi + backend Top LED Purple API call in progress Wait; turns green Energy Meter Green\u2192Yellow gradient Relative \u201cwork energy\u201d / progress Visual only <p>For detailed LED meanings, see LED Indicators.</p>"},{"location":"usage/daily-operation/#common-usage-patterns","title":"Common Usage Patterns","text":""},{"location":"usage/daily-operation/#pattern-1-standard-9-5-office-day","title":"Pattern 1: Standard 9-5 Office Day","text":"<pre><code>08:45 - Arrive at office\n        - Device in standby (green breathing)\n        - Press button DOWN\n\n09:00 - Start work\n        - 1 green LED lit\n\n12:00 - Lunch break (press button UP)\n        - Session 1 saved: 3 hours\n        - Device back to standby\n\n13:00 - Return from lunch\n        - Press button DOWN\n        - New session starts\n\n17:00 - End work day (press button UP)\n        - Session 2 saved: 4 hours\n        - Total: 7 hours recorded\n</code></pre>"},{"location":"usage/daily-operation/#pattern-2-long-single-session","title":"Pattern 2: Long Single Session","text":"<pre><code>09:00 - Clock in (button DOWN)\n10:00 - 1 LED (green)\n11:00 - 2 LEDs (green)\n12:00 - 3 LEDs (green-yellow) - Quick desk lunch, stay clocked in\n13:00 - 4 LEDs (yellow)\n14:00 - 5 LEDs (orange)\n15:00 - 6 LEDs (orange-red)\n16:00 - 7 LEDs (red) - Full meter!\n17:00 - Clock out (button UP)\n        - Single 8-hour session saved\n</code></pre>"},{"location":"usage/daily-operation/#pattern-3-flexible-remote-work","title":"Pattern 3: Flexible Remote Work","text":"<pre><code>10:00 - Start work (button DOWN)\n11:30 - Break (button UP) - 1.5 hours saved\n14:00 - Resume (button DOWN)\n16:00 - Short break - Leave button DOWN\n16:15 - Continue working\n18:30 - End (button UP) - 4.5 hours saved\n        - Total: 6 hours\n</code></pre>"},{"location":"usage/daily-operation/#battery-behavior","title":"Battery Behavior","text":""},{"location":"usage/daily-operation/#expected-battery-life","title":"Expected Battery Life","text":"<p>Normal usage (clocked in 6-8 hours/day): - Fresh charge: 10-14 days between charges - Year 2: 8-12 days - Year 3: 6-10 days</p> <p>LED brightness impact: - 100% brightness: 7-10 days - 50% brightness: 12-16 days - 25% brightness: 16-20 days</p> <p>Power-saving mode (deep sleep when clocked out): - Standby power: ~5 \u00b5A - Working power: ~80-150 mA - WiFi sync: ~200 mA peak (every 5 min for 2-5 seconds)</p>"},{"location":"usage/daily-operation/#charging-habits","title":"Charging Habits","text":"<p>Best practices: - Charge when battery drops below 20% (yellow warning) - Overnight charging is fine (charger has auto-cutoff) - Unplug at 100% to maximize battery lifespan - Charge every weekend if you use daily</p> <p>Avoid: - Letting battery fully drain (below 5%) - Keeping plugged in 24/7 - Charging in direct sunlight or hot environments</p> <p>See detailed charging guide: Battery Management</p>"},{"location":"usage/daily-operation/#api-integration","title":"API Integration","text":""},{"location":"usage/daily-operation/#backend-communication","title":"Backend Communication","text":"<p>Automatic sync schedule: - Clock in: Immediate POST to start session - During session: Status ping every 5 minutes (optional) - Clock out: Immediate POST to end session with duration</p> <p>API endpoints used: <pre><code>POST /api/beats/start   # Clock in\nPOST /api/beats/end     # Clock out\nGET  /api/beats/status  # Optional health check\n</code></pre></p> <p>Network resilience: - Device stores session locally if offline - Auto-retry up to 3 times with exponential backoff - Syncs when WiFi returns - No data loss even if network fails</p>"},{"location":"usage/daily-operation/#checking-your-data","title":"Checking Your Data","text":"<p>Via Web Dashboard (if you built one): 1. Open backend dashboard URL 2. View daily/weekly/monthly summaries 3. Export CSV for invoicing or records</p> <p>Via Direct API Query: <pre><code>curl -X GET \"https://your-api.com/api/beats?date=2024-01-15\" \\\n  -H \"Authorization: Bearer YOUR_TOKEN\"\n</code></pre></p> <p>Data stored: - Session start timestamp - Session end timestamp - Duration (calculated) - Device ID (your ESP32 MAC address) - Project ID (if configured)</p>"},{"location":"usage/daily-operation/#troubleshooting-quick-checks","title":"Troubleshooting Quick Checks","text":""},{"location":"usage/daily-operation/#button-press-not-responding","title":"Button Press Not Responding","text":"<ol> <li>Check battery level (yellow/red LED?)</li> <li>Try long press (2 seconds)</li> <li>Check button physical connection</li> <li>Check hardware connections and battery level</li> </ol>"},{"location":"usage/daily-operation/#session-not-recorded","title":"Session Not Recorded","text":"<ol> <li>Check WiFi connection (blue blinking = connecting)</li> <li>Verify API endpoint in configuration</li> <li>Check backend API logs</li> <li>Check WiFi connection and API configuration</li> </ol>"},{"location":"usage/daily-operation/#wrong-duration-recorded","title":"Wrong Duration Recorded","text":"<ol> <li>Verify clock-out button press registered</li> <li>Check for automatic session timeout (default: 12 hours)</li> <li>Review API timestamp accuracy</li> <li>Check device time sync (NTP)</li> </ol>"},{"location":"usage/daily-operation/#leds-not-turning-on","title":"LEDs Not Turning On","text":"<ol> <li>Check battery charge</li> <li>Verify LED power connection</li> <li>Test with USB-C power</li> <li>Check hardware connections and battery level</li> </ol>"},{"location":"usage/daily-operation/#advanced-usage","title":"Advanced Usage","text":""},{"location":"usage/daily-operation/#multiple-devices","title":"Multiple Devices","text":"<p>If you have multiple work locations:</p> <ol> <li>Build one device per location</li> <li>Configure each with unique device ID</li> <li>Backend API tracks all devices</li> <li>Dashboard shows combined total</li> </ol> <p>Example: - Device A: EPFL office - Device B: Home office - Device C: Co-working space - All sync to same backend account</p>"},{"location":"usage/daily-operation/#project-tracking","title":"Project Tracking","text":"<p>If your backend supports projects:</p> <ol> <li>Configure project ID in firmware</li> <li>Use button patterns for project switching:</li> <li>Single click: Default project</li> <li>Double click: Alternate project (requires firmware mod)</li> <li> <p>Long press (5s): Admin mode</p> </li> <li> <p>Or use physical DIP switches for 4-8 projects</p> </li> </ol>"},{"location":"usage/daily-operation/#offline-mode","title":"Offline Mode","text":"<p>Device works offline: - Sessions stored in ESP32 EEPROM - Holds up to 50 sessions (configurable) - Auto-sync when WiFi returns - LED shows orange status indicator</p> <p>Activate offline mode: - Long press button (10 seconds) at startup - Top LED turns orange - All sessions cached locally</p> <p>Sync later: - Connect to WiFi - Long press button (10 seconds) again - Device uploads all cached sessions</p>"},{"location":"usage/daily-operation/#maintenance-schedule","title":"Maintenance Schedule","text":""},{"location":"usage/daily-operation/#daily","title":"Daily","text":"<ul> <li>\u2713 Observe LED indicators for abnormal behavior</li> <li>\u2713 Verify sessions recorded correctly</li> </ul>"},{"location":"usage/daily-operation/#weekly","title":"Weekly","text":"<ul> <li>\u2713 Check battery level (charge if needed)</li> <li>\u2713 Wipe dust from button and enclosure</li> <li>\u2713 Review backend data for accuracy</li> </ul>"},{"location":"usage/daily-operation/#monthly","title":"Monthly","text":"<ul> <li>\u2713 Clean LED surface with microfiber cloth</li> <li>\u2713 Check button feel (should have crisp click)</li> <li>\u2713 Verify WiFi connection strength</li> <li>\u2713 Update firmware if new version available</li> </ul>"},{"location":"usage/daily-operation/#yearly","title":"Yearly","text":"<ul> <li>\u2713 Deep clean enclosure interior</li> <li>\u2713 Check solder joints for cold joints</li> <li>\u2713 Test battery capacity (may need replacement after 3-5 years)</li> <li>\u2713 Re-flash firmware to latest version</li> </ul> <p>See full maintenance guide: Maintenance</p>"},{"location":"usage/daily-operation/#tips-tricks","title":"Tips &amp; Tricks","text":""},{"location":"usage/daily-operation/#improving-accuracy","title":"Improving Accuracy","text":"<ul> <li>Place device away from electromagnetic interference</li> <li>Use stable WiFi network (not guest networks)</li> <li>Configure NTP server for accurate timestamps</li> <li>Test button before each work week</li> </ul>"},{"location":"usage/daily-operation/#reducing-distractions","title":"Reducing Distractions","text":"<ul> <li>Lower LED brightness during focus work</li> <li>Disable energy meter animation (keep only top status LED)</li> <li>Use minimal brightness at night</li> <li>Turn off status beeps</li> </ul>"},{"location":"usage/daily-operation/#extending-battery-life","title":"Extending Battery Life","text":"<ul> <li>Reduce LED brightness to 25%</li> <li>Disable WiFi sync during sessions (sync only at clock-out)</li> <li>Use deep sleep modes aggressively</li> <li>Charge every weekend preventively</li> </ul>"},{"location":"usage/daily-operation/#making-it-fun","title":"Making It Fun","text":"<ul> <li>Customize LED colors per project</li> <li>Add achievement animations (1000 hours, etc.)</li> <li>Share weekly stats with team</li> <li>Gamify productivity with LED effects</li> </ul>"},{"location":"usage/daily-operation/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about LED Indicators in detail</li> <li>Understand Battery Management</li> <li>Review Maintenance procedures</li> </ul> <p>Questions? Check the documentation or open an issue on GitHub!</p>"},{"location":"usage/led-indicators/","title":"LED Indicators","text":"<p>This page explains all LED patterns and what they mean on the Wall Clock In Machine.</p>"},{"location":"usage/led-indicators/#led-layout","title":"LED Layout","text":"<ul> <li>1x Top Status LED (WS2812 pixel 0)</li> <li>7x Energy Meter LEDs (WS2812 pixels 1-7)</li> <li>1x Charger LED (on charging module, red/green)</li> </ul>"},{"location":"usage/led-indicators/#top-status-led-pixel-0","title":"Top Status LED (Pixel 0)","text":"<p>The current Rust firmware uses simple solid colors:</p> Pattern Meaning Action Solid Blue Connecting to WiFi Wait a few seconds Solid Green Connected / last API OK Normal operation Solid Yellow WiFi / API error (last call) Check WiFi + backend Purple API call in progress Wait; turns green/end Off Powered off / not running Check power/USB <p>Fast rainbow animation is currently used as a demo/config placeholder on long\u2011press and does not start a WiFi setup portal yet.</p>"},{"location":"usage/led-indicators/#energy-meter-leds-pixels-1-7","title":"Energy Meter LEDs (Pixels 1-7)","text":"<ul> <li>Fill from left to right as hours accumulate</li> <li>Color gradient indicates progress</li> <li>1-2 LEDs: Green</li> <li>3-4 LEDs: Yellow</li> <li>5-6 LEDs: Orange</li> <li>7 LEDs: Red</li> <li>Fades out on clock out</li> </ul>"},{"location":"usage/led-indicators/#charger-led","title":"Charger LED","text":"<ul> <li>Red: Charging</li> <li>Green: Fully charged</li> <li>Off: Not connected or no battery</li> </ul>"},{"location":"usage/led-indicators/#setup-demo-animation","title":"Setup / Demo Animation","text":"<p>When you long\u2011press the button, the firmware triggers a rainbow animation on all LEDs. This is currently just a visual demo and a placeholder for future configuration modes.</p>"},{"location":"usage/led-indicators/#error-patterns","title":"Error Patterns","text":""},{"location":"usage/led-indicators/#api-error","title":"API Error","text":"<ul> <li>Top LED: Blinking Red</li> <li>Energy LEDs: Off</li> <li>Action: Check API URL and network connectivity</li> </ul>"},{"location":"usage/led-indicators/#wifi-error","title":"WiFi Error","text":"<ul> <li>Top LED: Blue pulse every 2 seconds</li> <li>Energy LEDs: Single yellow blink</li> <li>Action: Move closer to router, re-enter credentials</li> </ul>"},{"location":"usage/led-indicators/#sensorbutton-error","title":"Sensor/Button Error","text":"<ul> <li>Top LED: Alternating red/orange</li> <li>Energy LEDs: All dim red</li> <li>Action: Check button wiring and debounce settings</li> </ul>"},{"location":"usage/led-indicators/#customization","title":"Customization","text":"<p>You can customize colors and patterns in firmware:</p> <ul> <li>File: <code>firmware/src/tasks/led.rs</code></li> <li>Enum: <code>StatusColor</code> (Red, Green, Blue, Yellow, Purple, Off)</li> <li>Match on <code>LedCommand</code> in <code>led_task</code> to change how LEDs respond to events.</li> </ul>"},{"location":"usage/led-indicators/#tips","title":"Tips","text":"<ul> <li>Keep brightness at 25-50% for comfortable desk viewing</li> <li>Avoid direct sunlight for accurate color perception</li> <li>Clean LED diffuser monthly for consistent light</li> </ul> <p>See also: Daily Operation, Battery Management</p>"},{"location":"usage/maintenance/","title":"Maintenance","text":"<p>Keep your Wall Clock In Machine running smoothly.</p>"},{"location":"usage/maintenance/#weekly","title":"Weekly","text":"<ul> <li>Wipe enclosure and button with microfiber cloth</li> <li>Verify LEDs and button response</li> <li>Check battery level; charge if &lt;30%</li> </ul>"},{"location":"usage/maintenance/#monthly","title":"Monthly","text":"<ul> <li>Inspect solder joints for cracks</li> <li>Clean LED diffuser/acrylic with isopropyl alcohol</li> <li>Verify WiFi connection strength at the desk</li> <li>Review firmware release notes; update if needed</li> </ul>"},{"location":"usage/maintenance/#quarterly","title":"Quarterly","text":"<ul> <li>Open enclosure and clear dust</li> <li>Inspect wiring insulation and strain reliefs</li> <li>Re-seat JST connectors</li> </ul>"},{"location":"usage/maintenance/#yearly","title":"Yearly","text":"<ul> <li>Test battery capacity (run from 100% to 20% once)</li> <li>Inspect button actuation (replace if mushy)</li> <li>Reflow suspicious solder joints</li> </ul>"},{"location":"usage/maintenance/#firmware-updates","title":"Firmware Updates","text":"<ol> <li>Connect via USB-C</li> <li>Put device in programming mode (hold button at boot if required)</li> <li>Flash latest firmware from repository</li> <li>Verify configuration preserved; reconfigure if needed</li> </ol>"},{"location":"usage/maintenance/#cleaning-tips","title":"Cleaning Tips","text":"<ul> <li>Power off before cleaning</li> <li>Avoid water ingress</li> <li>Use antistatic brush for PCB dust</li> <li>Do not use acetone on plastics</li> </ul>"},{"location":"usage/maintenance/#spare-parts-checklist","title":"Spare Parts Checklist","text":"<ul> <li>1x spare button</li> <li>1x spare LED strip segment</li> <li>1x spare battery (same size)</li> <li>Heat-shrink tubing assortment</li> <li>JST-PH connectors and cable</li> </ul>"},{"location":"usage/maintenance/#service-log-template","title":"Service Log Template","text":"<pre><code>Date       | Action           | Notes\n-----------|------------------|-----------------------------\n2025-01-10 | Cleaned diffuser | Reduced glare\n2025-03-01 | FW v1.2 flashed  | Improved WiFi retries\n</code></pre> <p>See also: Battery Management</p>"}]}